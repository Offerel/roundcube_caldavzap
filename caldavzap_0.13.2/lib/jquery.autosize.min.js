(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery||window.$)})(function(e){var t,o={className:"autosizejs",append:"",callback:!1,resizeDelay:10},i='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',n=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],s=e(i).data("autosize",!0)[0];s.style.lineHeight="99px","99px"===e(s).css("lineHeight")&&n.push("lineHeight"),s.style.lineHeight="",e.fn.autosize=function(i){return this.length?(i=e.extend({},o,i||{}),s.parentNode!==document.body&&e(document.body).append(s),this.each(function(){function o(){var t,o;"getComputedStyle"in window?(t=window.getComputedStyle(h,null),o=h.getBoundingClientRect().width,e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,i){o-=parseInt(t[i],10)}),s.style.width=o+"px"):s.style.width=Math.max(c.width(),0)+"px"}function a(){var a={};if(t=h,s.className=i.className,d=parseInt(c.css("maxHeight"),10),e.each(n,function(e,t){a[t]=c.css(t)}),e(s).css(a),o(),window.chrome){var l=h.style.width;h.style.width="0px";h.offsetWidth;h.style.width=l}}function l(){var e,n;t!==h?a():o(),s.value=h.value+i.append,s.style.overflowY=h.style.overflowY,n=parseInt(h.style.height,10),s.scrollTop=0,s.scrollTop=9e4,e=s.scrollTop,d&&e>d?(h.style.overflowY="scroll",e=d):(h.style.overflowY="hidden",e<u&&(e=u)),e+=y,n!==e&&(h.style.height=e+"px",w&&i.callback.call(h,h))}function r(){clearTimeout(f),f=setTimeout(function(){var e=c.width();e!==z&&(z=e,l())},parseInt(i.resizeDelay,10))}var d,u,f,h=this,c=e(h),y=0,w=e.isFunction(i.callback),p={height:void 0!=i.defaultStyles&&void 0!=i.defaultStyles.height?i.defaultStyles.height:h.style.height,overflow:void 0!=i.defaultStyles&&void 0!=i.defaultStyles.overflow?i.defaultStyles.overflow:h.style.overflow,overflowY:void 0!=i.defaultStyles&&void 0!=i.defaultStyles["overflow-y"]?i.defaultStyles["overflow-y"]:h.style.overflowY,wordWrap:void 0!=i.defaultStyles&&void 0!=i.defaultStyles["word-wrap"]?i.defaultStyles["word-wrap"]:h.style.wordWrap,resize:void 0!=i.defaultStyles&&void 0!=i.defaultStyles.resize?i.defaultStyles.resize:h.style.resize},z=c.width();c.data("autosize")||(c.data("autosize",!0),"border-box"!==c.css("box-sizing")&&"border-box"!==c.css("-moz-box-sizing")&&"border-box"!==c.css("-webkit-box-sizing")||(y=c.outerHeight()-c.height()),u=Math.max(parseInt(c.css("minHeight"),10)-y||0,p.height),c.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===p.resize||"vertical"===p.resize?"none":"horizontal"}),"onpropertychange"in h?"oninput"in h?c.on("input.autosize keyup.autosize",l):c.on("propertychange.autosize",function(){"value"===event.propertyName&&l()}):c.on("input.autosize",l),i.resizeDelay!==!1&&e(window).on("resize.autosize",r),c.on("autosize.resize",l),c.on("autosize.resizeIncludeStyle",function(){t=null,l()}),c.on("autosize.destroy",function(){t=null,clearTimeout(f),e(window).off("resize",r),c.off("autosize").off(".autosize").css(p).removeData("autosize")}),l())})):this}});