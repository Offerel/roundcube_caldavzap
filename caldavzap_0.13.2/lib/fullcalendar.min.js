(function(t,e){function n(e){t.extend(!0,Ot,e)}function a(n,a,i){function c(t){ot?(F(),x(),L(),T(t)):f()}function f(){st=a.theme?"ui":"fc",n.addClass("fc"),a.isRTL&&n.addClass("fc-rtl"),a.theme&&n.addClass("ui-widget"),ot=t("<div class='fc-content' style='position:relative'/>").prependTo(n),rt=new r(at,a),it=rt.render(),it&&(a.headerContainer?a.headerContainer.prepend(it):n.prepend(it)),S(a.defaultView),t(window).resize(z),C()||u()}function u(){setTimeout(function(){!ct.start&&C()&&T()},0)}function h(){for(var t in at.viewInstances)at.viewInstances[t].updateToday()}function p(){for(var t in at.viewInstances)at.viewInstances[t].updateGrid()}function g(){for(var t in at.viewInstances)at.viewInstances[t].start=null;T()}function m(e){var n=!1;t.each(e,function(e,r){if(t.isPlainObject(r)?t.extend(a[e],r):a[e]=r,"firstDay"==e||"timeFormat"==e)n=!0;else for(var i in at.viewInstances)at.viewInstances[i]["set"+e.charAt(0).toUpperCase()+e.slice(1)]()}),n&&g()}function y(t){return a[t]}function D(){t(window).unbind("resize",z),rt.destroy(),ot.remove(),n.removeClass("fc fc-rtl ui-widget")}function b(){return 0!==pt.offsetWidth}function C(){return 0!==t("body")[0].offsetWidth}function S(e){if(!ct||e!=ct.name){mt++,V();var n,a=ct;a?((a.beforeHide||Y)(),a.element.hide(),a.addedView&&a.addedView.element.hide()):P(ot,1),ot.css("overflow","hidden"),ct=at.viewInstances[e],ct?ct.element.show():ct=at.viewInstances[e]=new Lt[e](n=ft=t("<div class='fc-view fc-view-"+e+"' style='position:absolute'/>").appendTo(ot),at),"agendaDay"==e&&(addedView=at.viewInstances.table,addedView?addedView.element.show():(addedView=at.viewInstances.table=new Lt.table(addedNewViewElement=addedAbsoluteViewElement=t("<div class='fc-view fc-view-table' style='position:absolute'/>").appendTo(ot),at),ct.addedView=addedView)),a&&rt.deactivateButton(a.name),rt.activateButton(e),T(),ot.css("overflow",""),a&&P(ot,1),n||(ct.afterShow||Y)(),mt--,ct.trigger("viewChanged",pt)}}function T(t){if(b()){ct.trigger("beforeViewDisplay",pt),mt++,V(),dt===e&&F(),ct.addedView&&ct.start&&v(yt,!0).getTime()==ct.start.getTime()&&ct.addedView.scrollToDate(yt);var a=!1;!ct.start||t||yt<ct.start||yt>=ct.end?(ct.render(yt,t||0),H(!0),a=!0):ct.sizeDirty?(ct.clearEvents(),H(),a=!0):ct.eventsDirty&&(ct.clearEvents(),a=!0),ct.sizeDirty=!1,ct.eventsDirty=!1,N(a),lt=n.outerWidth(),rt.updateTitle(ct.title);var r=new Date;r>=ct.start&&r<ct.end?(rt.setTodayScroll(n),X()):rt.setTodayDefault(),mt--,ct.trigger("viewDisplay",pt)}}function E(){x(),b()&&(F(),H(),"todo"!=ct.name&&(V(),ct.clearEvents(),ct.renderEvents(wt)),ct.sizeDirty=!1)}function x(){t.each(at.viewInstances,function(t,e){e.sizeDirty=!0})}function F(){dt=a.contentHeight?a.contentHeight:a.height?a.height-(it?it.height():0)-B(ot):Math.round(ot.width()/Math.max(a.aspectRatio,.5))}function H(t){mt++,ct.setWidth(ot.width(),t),ct.setHeight(dt,t),ft&&(ft.css("position","relative"),ft=null),mt--}function z(){if(!mt)if(ct.start){var t=++gt;t==gt&&!mt&&b()&&lt!=(lt=n.outerWidth())&&(mt++,E(),ct.trigger("windowResize",pt),mt--)}else u()}function N(t){!a.lazyFetching||ht(ct.visStart,ct.visEnd)?W():t&&A()}function W(){vt(ct.visStart,ct.visEnd)}function O(t){wt=t,A()}function R(t){A(t)}function A(t){L(),b()&&(ct.clearEvents(),ct.renderEvents(wt,t),ct.eventsDirty=!1)}function L(){t.each(at.viewInstances,function(t,e){e.eventsDirty=!0})}function I(t,n,a){ct.select(t,n,a===e||a)}function V(){ct&&ct.unselect()}function _(){T(-1),tt("prevClick")}function j(){T(1),tt("nextClick")}function q(){s(yt,-1),T()}function J(){s(yt,1),T()}function U(){yt=new Date,T(),X(),tt("todayClick")}function X(){if(ct.addedView){if(ct.addedView.getDaySegmentContainer().find(".fc-today").length>0)if(1==(new Date).getDate())ct.addedView.getDaySegmentContainer().parent().scrollTop(0);else{a=ct.addedView.getDaySegmentContainer().find(".fc-today").position().top;var t=ct.addedView.getDaySegmentContainer().parent().scrollTop();ct.addedView.getDaySegmentContainer().parent().scrollTop(t+a)}}else if("todo"==ct.name){if(ct.getDaySegmentContainer().find(".fc-today").length>0){a=ct.getDaySegmentContainer().find(".fc-today").position().top;var t=ct.getDaySegmentContainer().parent().scrollTop();ct.getDaySegmentContainer().parent().scrollTop(t+a)}}else{var e=ct.element.find(".fc-today");if(e.length>0){var a=0;e.parent().hasClass("fc-week0")||(a=e.position().top),n.parent().scrollTop(a)}}}function G(t,e,n){t instanceof Date?yt=v(t):w(yt,t,e,n),T()}function Z(t,n,a){t!==e&&s(yt,t),n!==e&&l(yt,n),a!==e&&d(yt,a),T()}function $(){return v(yt)}function Q(){return ct}function K(t,n){return n===e?a[t]:void("height"==t||"contentHeight"==t||"aspectRatio"==t?(a[t]=n,E()):0!=t.indexOf("list")&&"tableCols"!=t||(a[t]=n,ct.start=null))}function tt(t,e){if(a[t])return a[t].apply(e||pt,Array.prototype.slice.call(arguments,2))}function et(t,e){ct.selectEvent(t,e)}function nt(t){ct.allowSelectEvent(t)}var at=this;at.options=a,at.render=c,at.destroy=D,at.refetchEvents=W,at.reportEvents=O,at.reportEventChange=R,at.rerenderEvents=A,at.changeView=S,at.select=I,at.unselect=V,at.prev=_,at.next=j,at.prevYear=q,at.nextYear=J,at.today=U,at.findToday=X,at.gotoDate=G,at.incrementDate=Z,at.formatDate=function(t,e){return M(t,e,a)},at.formatDates=function(t,e,n){return k(t,e,n,a)},at.getDate=$,at.getView=Q,at.option=K,at.trigger=tt,at.selectEvent=et,at.allowSelectEvent=nt,at.updateToday=h,at.updateGrid=p,at.renderViews=g,at.setOptions=m,at.getOption=y,at.viewInstances={},o.call(at,a,i);var rt,it,ot,st,ct,lt,dt,ft,ut,ht=at.isFetchNeeded,vt=at.fetchEvents,pt=n[0],gt=0,mt=0,yt=new Date,wt=[];w(yt,a.year,a.month,a.date),a.droppable&&t(document).bind("dragstart",function(e,n){var r=e.target,i=t(r);if(!i.parents(".fc").length){var o=a.dropAccept;(t.isFunction(o)?o.call(r,i):i.is(o))&&(ut=r,ct.dragStart(ut,e,n))}}).bind("dragstop",function(t,e){ut&&(ct.dragStop(ut,t,e),ut=null)})}function r(e,n){function a(){v=n.theme?"ui":"fc";var e=n.header;if(e)return p=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(i("left")).append(i("center")).append(i("right")))}function r(){p.remove()}function i(a){var r=t("<td class='fc-header-"+a+"'/>"),i=n.header[a];return i&&t.each(i.split(" "),function(a){a>0&&r.append("<span class='fc-header-space'/>");var i;t.each(this.split(","),function(a,o){if("title"==o)r.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),i&&i.addClass(v+"-corner-right"),i=null;else{var s;if(e[o]?s=e[o]:Lt[o]&&(s=function(){d.removeClass(v+"-state-hover"),e.changeView(o)}),s){var c="prev"==o||"next"==o?o:null,l=U(n.buttonText,o),d=t("<span class='fc-button fc-button-"+o+" "+v+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(c?"<img src='images/arrow_"+c+".svg'/>":l)+"</span><span class='fc-button-effect'><span></span></span></span></span>");d&&(d.click(function(){d.hasClass(v+"-state-disabled")||s()}).mousedown(function(){d.not("."+v+"-state-active").not("."+v+"-state-disabled").addClass(v+"-state-down")}).mouseup(function(){d.removeClass(v+"-state-down")}).hover(function(){d.not("."+v+"-state-active").not("."+v+"-state-disabled").addClass(v+"-state-hover")},function(){d.removeClass(v+"-state-hover").removeClass(v+"-state-down")}).appendTo(r),i||d.addClass(v+"-corner-left"),i=d)}}}),i&&i.addClass(v+"-corner-right")}),r}function o(e){p.find("h2").html(e).attr("title",t("<div/>").html(e).text())}function s(t){p.find("span.fc-button-"+t).addClass(v+"-state-active")}function c(t){p.find("span.fc-button-"+t).removeClass(v+"-state-active")}function l(t){p.find("span.fc-button-"+t).addClass(v+"-state-disabled")}function d(t){p.find("span.fc-button-"+t).removeClass(v+"-state-disabled")}function f(){var t=p.find("span.fc-button-today"),n=e.today;t.unbind("click"),t.click(function(){t.hasClass(v+"-state-disabled")||n()})}function u(t){var n=p.find("span.fc-button-today"),a=e.findToday;n.unbind("click"),n.click(function(){n.hasClass(v+"-state-disabled")||a()})}var h=this;h.render=a,h.destroy=r,h.updateTitle=o,h.activateButton=s,h.deactivateButton=c,h.disableButton=l,h.enableButton=d,h.setTodayDefault=f,h.setTodayScroll=u;var v,p=t([])}function o(n,a){function r(t,e){return!S||t<S||e>T}function i(t,e){S=t,T=e,R=[];var n=++N,a=z.length;W=a;for(var r=0;r<a;r++)o(z[r],n)}function o(t,e){s(t,function(n){if(e==N){if(n){for(var a=0;a<n.length;a++)n[a].source=t,w(n[a]);R=R.concat(n)}W--,W||F(R)}})}function s(e,a){var r,i,o=At.sourceFetchers;for(r=0;r<o.length;r++){if(i=o[r](e,S,T,a),i===!0)return;if("object"==typeof i)return void s(i,a)}var c=e.events;if(c)t.isFunction(c)?(m(),c(v(S),v(T),function(t){a(t),y()})):t.isArray(c)?a(c):a();else{var l=e.url;if(l){var d=e.success,f=e.error,u=e.complete,h=t.extend({},e.data||{}),p=et(e.startParam,n.startParam),g=et(e.endParam,n.endParam);p&&(h[p]=Math.round(+S/1e3)),g&&(h[g]=Math.round(+T/1e3)),m(),t.ajax(t.extend({},Bt,e,{data:h,success:function(e){e=e||[];var n=tt(d,this,arguments);t.isArray(n)&&(e=n),a(e)},error:function(){tt(f,this,arguments),a()},complete:function(){tt(u,this,arguments),y()}}))}else a()}}function c(t){return t=l(t),t&&(W++,o(t,N)),t}function l(e){if(t.isFunction(e)||t.isArray(e)?e={events:e}:"string"==typeof e&&(e={url:e}),"object"==typeof e)return b(e),z.push(e),e}function d(e){z=t.grep(z,function(t){return!C(t,e)}),R=t.grep(R,function(t){return!C(t.source,e)}),F(R)}function f(){for(;source=z.shift();)R=t.grep(R,function(t){return!C(t.source,source)}),F(R)}function u(t){var e,n,a=R.length,r=x().defaultEventEnd,i=t.start-t._start,o=t.end?t.end-(t._end||r(t)):0;for(e=0;e<a;e++)n=R[e],n._id==t._id&&n!=t&&(n.start=new Date(+n.start+i),t.end?n.end?n.end=new Date(+n.end+o):n.end=new Date(+r(n)+o):n.end=null,n.title=t.title,n.url=t.url,n.allDay=t.allDay,n.className=t.className,n.editable=t.editable,n.color=t.color,n.backgroudColor=t.backgroudColor,n.borderColor=t.borderColor,n.textColor=t.textColor,w(n));w(t),F(R)}function h(t,e){w(t),t.source||e&&(H.events.push(t),t.source=H),R.push(t),F(R)}function p(e){var n=R;if(e){if(!t.isFunction(e)){var a=e+"";e=function(t){return t._id==a}}R=t.grep(R,e,!0)}else R=[];n.length!=R.length&&F(R)}function g(e){return t.isFunction(e)?t.grep(R,e):e?(e+="",t.grep(R,function(t){return t._id==e})):R}function m(){O++||E("loading",null,!0)}function y(){--O||E("loading",null,!1)}function w(t){var a=t.source||{},r=et(a.ignoreTimezone,n.ignoreTimezone);t._id=t._id||(t.id===e?"_fc"+It++:t.id+""),t.date&&(t.start||(t.start=t.date),delete t.date),t._start=v(t.start=D(t.start,r)),t.end=D(t.end,r),t.end&&(n.eventMode&&t.end<=t.start||!n.eventMode&&t.end<t.start)&&(t.end=null),t._end=t.end?v(t.end):null,t.allDay===e&&(t.allDay=et(a.allDayDefault,n.allDayDefault)),t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[]}function b(t){t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[];for(var e=At.sourceNormalizers,n=0;n<e.length;n++)e[n](t)}function C(t,e){return t&&e&&M(t)==M(e)}function M(t){return("object"==typeof t?t.events||t.url:"")||t}var k=this;k.isFetchNeeded=r,k.fetchEvents=i,k.addEventSource=c,k.removeEventSource=d,k.removeEventSources=f,k.updateEvent=u,k.renderEvent=h,k.removeEvents=p,k.clientEvents=g,k.normalizeEvent=w;for(var S,T,E=k.trigger,x=k.getView,F=k.reportEvents,H={events:[]},z=[H],N=0,W=0,O=0,R=[],A=0;A<a.length;A++)l(a[A])}function s(t,e,n){return t.setFullYear(t.getFullYear()+e),n||h(t),t}function l(t,e,n){if(+t){var a=t.getMonth()+e,r=v(t);for(r.setDate(1),r.setMonth(a),t.setMonth(a),n||h(t);t.getMonth()!=r.getMonth();)t.setDate(t.getDate()+(t<r?1:-1))}return t}function d(t,e,n){if(+t){var a=t.getDate()+e,r=v(t);r.setHours(9),r.setDate(a),t.setDate(a),n||h(t),f(t,r)}return t}function f(t,e){if(+t)for(;t.getDate()!=e.getDate();)t.setTime(+t+(t<e?1:-1)*Pt)}function u(t,e){return t.setMinutes(t.getMinutes()+e),t}function h(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function v(t,e){return null==t?null:e?h(new Date(+t)):new Date(+t)}function p(){var t,e=0;do t=new Date(1970,e++,1);while(t.getHours());return t}function g(t,e,n){for(e=e||1;!t.getDay()||n&&1==t.getDay()||!n&&6==t.getDay();)d(t,e);return t}function m(t,e){return Math.round((v(t,!0)-v(e,!0))/_t)}function y(t,e){return Math.round((v(t,!1)-v(e,!1))/Yt)}function w(t,n,a,r){n!==e&&n!=t.getFullYear()&&(t.setDate(1),t.setMonth(0),t.setFullYear(n)),a!==e&&a!=t.getMonth()&&(t.setDate(1),t.setMonth(a)),r!==e&&t.setDate(r)}function D(t,n){return"object"==typeof t?t:"number"==typeof t?new Date(1e3*t):"string"==typeof t?t.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(t)):(n===e&&(n=!0),b(t,n)||(t?new Date(t):null)):null}function b(t,e){var n=t.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var a=new Date(n[1],0,1);if(e||!n[13]){var r=new Date(n[1],0,1,12,0);f(a,r),n[3]&&(a.setMonth(n[3]-1),r.setMonth(n[3]-1)),n[5]&&(a.setDate(n[5]),r.setDate(n[5])),f(a,r),n[7]&&a.setHours(n[7]),n[8]&&a.setMinutes(n[8]),n[10]&&a.setSeconds(n[10]),n[12]&&a.setMilliseconds(1e3*Number("0."+n[12])),f(a,r)}else if(a.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),a.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var i=60*Number(n[16])+(n[18]?Number(n[18]):0);i*="-"==n[15]?1:-1,a=new Date(+a+60*i*1e3)}return a}function C(t){if("number"==typeof t)return 60*t;if("object"==typeof t)return 60*t.getHours()+t.getMinutes();var e=t.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(e){var n=parseInt(e[1],10);return e[3]&&(n%=12,"p"==e[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(e[2]?parseInt(e[2],10):0)}}function M(t,e,n){return k(t,null,e,n)}function k(t,e,n,a){a=a||Ot;var r,i,o,s,c=t,l=e,d=n.length,f="";for(r=0;r<d;r++)if(i=n.charAt(r),"'"==i){for(o=r+1;o<d;o++)if("'"==n.charAt(o)){c&&(f+=o==r+1?"'":n.substring(r+1,o),r=o);break}}else if("("==i){for(o=r+1;o<d;o++)if(")"==n.charAt(o)){var u=M(c,n.substring(r+1,o),a);parseInt(u.replace(/\D/,""),10)&&(f+=u),r=o;break}}else if("["==i){for(o=r+1;o<d;o++)if("]"==n.charAt(o)){var h=n.substring(r+1,o),u=M(c,h,a);u!=M(l,h,a)&&(f+=u),r=o;break}}else if("{"==i)c=e,l=t;else if("}"==i)c=t,l=e;else{for(o=d;o>r;o--)if(s=jt[n.substring(r,o)]){c&&(f+=s(c,a)),r=o-1;break}o==r&&c&&(f+=i)}return f}function S(t){return t.end?T(t.end,t.allDay):d(v(t.start),1)}function T(t,e){return t=v(t),e||t.getHours()||t.getMinutes()?d(t,1):h(t)}function E(t,e){return 100*(e.msLength-t.msLength)+(t.event.start-e.event.start)}function x(t,e){return t.end>e.start&&t.start<e.end}function F(t,e,n,a){var r,i,o,s,c,l,d,f,u=[],h=t.length;for(r=0;r<h;r++)i=t[r],o=i.start,s=e[r],s>n&&o<a&&(o<n?(c=v(n),d=!1):(c=o,d=!0),s>a?(l=v(a),f=!1):(l=s,f=!0),u.push({event:i,start:c,end:l,isStart:d,isEnd:f,msLength:l-c}));return u.sort(E)}function H(t){var e,n,a,r,i,o=[],s=t.length;for(e=0;e<s;e++){for(n=t[e],a=0;;){if(r=!1,o[a])for(i=0;i<o[a].length;i++)if(x(o[a][i],n)){r=!0;break}if(!r)break;a++}o[a]?o[a].push(n):o[a]=[n]}return o}function z(n,a,r){n.unbind("mouseover").mouseover(function(n){for(var i,o,s,c=n.target;c!=this;)i=c,c=c.parentNode;(o=i._fci)!==e&&(i._fci=e,s=a[o],r(s.event,s.element,s),t(n.target).trigger(n)),n.stopPropagation()})}function N(e,n,a){for(var r,i=0;i<e.length;i++)r=t(e[i]),r.width(Math.max(0,n-O(r,a)))}function W(e,n,a){for(var r,i=0;i<e.length;i++)r=t(e[i]),r.height(Math.max(0,n-B(r,a)))}function O(t,e){return R(t)+L(t)+(e?A(t):0)}function R(e){return(parseFloat(t.css(e[0],"paddingLeft",!0))||0)+(parseFloat(t.css(e[0],"paddingRight",!0))||0)}function A(e){return(parseFloat(t.css(e[0],"marginLeft",!0))||0)+(parseFloat(t.css(e[0],"marginRight",!0))||0)}function L(e){return(parseFloat(t.css(e[0],"borderLeftWidth",!0))||0)+(parseFloat(t.css(e[0],"borderRightWidth",!0))||0)}function B(t,e){return I(t)+_(t)+(e?V(t):0)}function I(e){return(parseFloat(t.css(e[0],"paddingTop",!0))||0)+(parseFloat(t.css(e[0],"paddingBottom",!0))||0)}function V(e){return(parseFloat(t.css(e[0],"marginTop",!0))||0)+(parseFloat(t.css(e[0],"marginBottom",!0))||0)}function _(e){return(parseFloat(t.css(e[0],"borderTopWidth",!0))||0)+(parseFloat(t.css(e[0],"borderBottomWidth",!0))||0)}function P(t,e){e="number"==typeof e?e+"px":e,t.each(function(t,n){n.style.cssText+=";min-height:"+e+";_height:"+e})}function Y(){}function j(t,e){return t-e}function q(t){return Math.max.apply(Math,t)}function J(t){return(t<10?"0":"")+t}function U(t,n){if(t[n]!==e)return t[n];for(var a,r=n.split(/(?=[A-Z])/),i=r.length-1;i>=0;i--)if(a=t[r[i].toLowerCase()],a!==e)return a;return t[""]}function X(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function G(t){return t.id+"/"+t.className+"/"+t.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/gi,"")}function Z(t){t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function $(t){t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function Q(t,e,n){t.each(function(t,a){a.className=a.className.replace(/^fc-\w*( fc-weekend-day)?/,"fc-"+Vt[e.getDay()]+(n("weekendDays").length>0&&n("weekendDays").indexOf(e.getDay())!=-1?" fc-weekend-day":""))})}function K(t,e){var n=t.source||{},a=t.color,r=n.color,i=e("eventColor"),o=t.backgroundColor||a||n.backgroundColor||r||e("eventBackgroundColor")||i,s=t.borderColor||a||n.borderColor||r||e("eventBorderColor")||i,c=t.textColor||n.textColor||e("eventTextColor"),l=[];return o&&l.push("background-color:"+o),s&&l.push("border-color:"+s),c&&l.push("color:"+c),l.join(";")}function tt(e,n,a){if(t.isFunction(e)&&(e=[e]),e){var r,i;for(r=0;r<e.length;r++)i=e[r].apply(n,a)||i;return i}}function et(){for(var t=0;t<arguments.length;t++)if(arguments[t]!==e)return arguments[t]}function nt(t,e){function n(t,e){e&&(l(t,e),t.setDate(1));var n=v(t,!0);n.setDate(1);var s=l(v(n),1),c=v(n),f=v(s),u=r("firstDay"),h=r("weekends")?0:1;h&&(g(c),g(f,-1,!0)),d(c,-((c.getDay()-Math.max(u,h)+7)%7)),d(f,(7-f.getDay()+Math.max(u,h))%7);var p=Math.round((f-c)/(7*_t));"fixed"==r("weekMode")&&(d(f,7*(6-p)),p=6),a.title=o(n,r("titleFormat")),a.start=n,a.end=s,a.visStart=c,a.visEnd=f,i(6,p,h?5:7,!0)}var a=this;a.render=n,ot.call(a,t,e,"month");var r=a.opt,i=a.renderBasic,o=e.formatDate}function at(t,e){function n(t,e){e&&d(t,e*r("multiWeekSize")*7);var n=v(new Date,!0),s=d(v(t),-((t.getDay()-r("firstDay")+7)%7)),c=d(v(n),-((n.getDay()-r("firstDay")+7)%7));r("multiWeekSize")>0&&d(t,7*-(-(Math.abs(Math.ceil(m(s,c)/7))%r("multiWeekSize"))%r("multiWeekSize")));var l=v(t),f=d(v(t),-((t.getDay()-r("firstDay")+7)%7)),u=d(v(f),7*r("multiWeekSize")),h=v(u),p=r("firstDay"),y=r("weekends")?0:1;y&&(g(f),g(h,-1,!0)),d(f,-((f.getDay()-Math.max(p,y)+7)%7)),d(h,(7-h.getDay()+Math.max(p,y))%7),a.title=o(f,d(v(h),-1),r("titleFormat")),a.start=l,a.end=u,a.visStart=f,a.visEnd=h,i(r("multiWeekSize"),r("multiWeekSize"),y?5:7,!0)}var a=this;a.render=n,ot.call(a,t,e,"multiWeek");var r=a.opt,i=a.renderBasic,o=e.formatDates}function rt(t,e){function n(t,e){e&&d(t,7*e);var n=d(v(t),-((t.getDay()-r("firstDay")+7)%7)),s=d(v(n),7),c=v(n),l=v(s),f=r("weekends");f||(g(c),g(l,-1,!0)),a.title=o(c,d(v(l),-1),r("titleFormat")),a.start=n,a.end=s,a.visStart=c,a.visEnd=l,i(1,1,f?7:5,!1)}var a=this;a.render=n,ot.call(a,t,e,"basicWeek");var r=a.opt,i=a.renderBasic,o=e.formatDates}function it(t,e){function n(t,e){e&&(d(t,e),r("weekends")||g(t,e<0?-1:1)),a.title=o(t,r("titleFormat")),a.start=a.visStart=v(t,!0),a.end=a.visEnd=d(v(a.start),1),i(1,1,1,!1)}var a=this;a.render=n,ot.call(a,t,e,"basicDay");var r=a.opt,i=a.renderBasic,o=e.formatDate}function ot(e,n,a){function r(t,e,n,a){ot=e,ct=n,i();var r=!X;r?o(t,a):zt(),s(!0)}function i(){ut=Ft("isRTL"),ut?(vt=-1,wt=ct-1):(vt=1,wt=0),St=Ft("firstDay"),Tt=Ft("weekends")?0:1,Et=Ft("theme")?"ui":"fc",xt=Ft("columnFormat")}function o(n,a){var r,i,o,s,c=Et+"-widget-header",l=Et+"-widget-content";for(r="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>",i=0;i<ct;i++)r+="<th class='fc- "+c+"'/>";for(r+="</tr></thead><tbody>",i=0;i<n;i++){for(r+="<tr class='fc-week"+i+"'>",o=0;o<ct;o++)r+="<td class='fc- "+l+" fc-day"+(i*ct+o)+"'><div>"+(a?"<div class='fc-day-header'><div class='fc-week-number'/><div class='fc-day-text'/><div class='fc-day-number'/></div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";r+="</tr>"}r+="</tbody></table>",s=t(r).appendTo(e),J=s.find("thead"),U=J.find("th"),X=s.find("tbody"),G=X.find("tr"),K=X.find("td"),tt=K.filter(":first-child"),et=G.eq(0).find("div.fc-day-content div"),$(J.add(J.find("tr"))),$(G),G.eq(0).addClass("fc-first"),C(K),nt=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)}function s(e){var n,a,r,i=e||1==ot,o=q.start.getMonth(),s=h(new Date);i&&U.each(function(e,r){n=t(r),a=V(e),n.html(Rt(a,xt)),Q(n,a,Ft)}),K.each(function(e,r){n=t(r),a=V(e),a.getMonth()==o?n.removeClass("fc-other-month"):n.addClass("fc-other-month"),Ft("showWeekNumbers")&&e%7==0&&(kt(n,a),Mt(n,a)),+a==+s?(n.addClass(Et+"-state-highlight fc-today"),Ct(n,Ft("buttonText","today")),bt(n,Ft("buttonText","today"))):(n.removeClass(Et+"-state-highlight fc-today"),Ct(n,Ft("buttonText","today"))),n.find("div.fc-day-number").text(a.getDate()),i&&Q(n,a,Ft)}),G.each(function(e,n){r=t(n),e<ot?(r.show(),e==ot-1?r.addClass("fc-last"):r.removeClass("fc-last")):r.hide()})}function c(){l(),f(),u(),p(),g(),y(),w()}function l(){var e,n,a=h(new Date);K.each(function(r,i){e=t(i),n=V(r),+n==+a?(e.addClass(Et+"-state-highlight fc-today"),Ct(e,Ft("buttonText","today")),bt(e,Ft("buttonText","today"))):(e.removeClass(Et+"-state-highlight fc-today"),Ct(e,Ft("buttonText","today")))})}function f(){}function u(){}function p(){}function g(){U.each(function(e,n){Q(t(n),V(e),Ft)}),K.each(function(e,n){Q(t(n),V(e),Ft)})}function y(){C(K)}function w(){C(K)}function D(e){rt=e;var n,a,r,i=rt-J.height();"variable"==Ft("weekMode")?n=a=Math.floor(i/(1==ot?2:6)):(n=Math.floor(i/ot),a=i-n*(ot-1)),tt.each(function(e,i){e<ot&&(r=t(i),P(r.find("> div"),(e==ot-1?a:n)-B(r)))})}function b(t){at=t,ft.clear(),it=Math.floor(at/ct),N(U.slice(0,-1),it)}function C(t){t.unbind("click dblclick"),"double"==Ft("bindingMode")?t.dblclick(M).mousedown(Ot):t.click(M).mousedown(Ot)}function M(t){var e=parseInt(this.className.match(/fc\-day(\d+)/)[1]),n=V(e);Ht("dayClick",this,n,!0,t)}function k(t,e,n){n&&lt.build();for(var a=v(q.visStart),r=d(v(a),ct),i=0;i<ot;i++){var o=new Date(Math.max(a,t)),s=new Date(Math.min(r,e));if(o<s){var c,l;ut?(c=m(s,a)*vt+wt+1,l=m(o,a)*vt+wt+1):(c=m(o,a),l=m(s,a)),C(S(i,c,i,l-1))}d(a,7),d(r,7)}}function S(t,n,a,r){var i=lt.rect(t,n,a,r,e);return Nt(i,e)}function T(t,e){return v(t)}function E(t,e,n){k(t,d(v(e),1),!0)}function x(){Wt()}function F(t,e,n){var a=A(t),r=K[a.row*ct+a.col];Ht("dayClick",r,t,e,n)}function H(t,e,n){dt.start(function(t){Wt(),t&&S(t.row,t.col,t.row,t.col)},e)}function z(t,e,n){var a=dt.stop();if(Wt(),a){var r=L(a);Ht("drop",t,r,!0,e,n)}}function W(t){return v(t.start)}function O(t){return ft.left(t)}function R(t){return ft.right(t)}function A(t){return{row:Math.floor(m(t,q.visStart)/7),col:_(t.getDay())}}function L(t){return I(t.row,t.col)}function I(t,e){return d(v(q.visStart),7*t+e*vt+wt)}function V(t){return I(Math.floor(t/ct),t%ct)}function _(t){return(t-Math.max(St,Tt)+ct)%ct*vt+wt}function Y(t){return G.eq(t)}function j(t){return{left:0,right:at}}var q=this;q.renderBasic=r,q.setHeight=D,q.setWidth=b,q.renderDayOverlay=k,q.defaultSelectionEnd=T,q.renderSelection=E,q.clearSelection=x,q.reportDayClick=F,q.dragStart=H,q.dragStop=z,q.defaultEventEnd=W,q.getHoverListener=function(){return dt},q.colContentLeft=O,q.colContentRight=R,q.dayOfWeekCol=_,q.dateCell=A,q.cellDate=L,q.cellIsAllDay=function(){return!0},q.allDayRow=Y,q.allDayBounds=j,q.getRowCnt=function(){return ot},q.getColCnt=function(){return ct},q.getColWidth=function(){return it},q.getDaySegmentContainer=function(){return nt},q.updateGrid=c,q.updateToday=l,q.setAxisFormat=f,q.setStartOfBusiness=u,q.setEndOfBusiness=p,q.setWeekendDays=g,q.setBindingMode=y,q.setSelectable=w,ht.call(q,e,n,a),gt.call(q),pt.call(q),st.call(q);var J,U,X,G,K,tt,et,nt,at,rt,it,ot,ct,lt,dt,ft,ut,vt,wt,St,Tt,Et,xt,Ft=q.opt,Ht=q.trigger,zt=q.clearEvents,Nt=q.renderOverlay,Wt=q.clearOverlays,Ot=q.daySelectionMousedown,Rt=n.formatDate;Z(e.addClass("fc-grid")),lt=new mt(function(e,n){var a,r,i;U.each(function(e,o){a=t(o),r=a.offset().left,e&&(i[1]=r),i=[r],n[e]=i}),i[1]=r+a.outerWidth(),G.each(function(n,o){n<ot&&(a=t(o),r=a.offset().top,n&&(i[1]=r),i=[r],e[n]=i)}),i[1]=r+a.outerHeight()}),dt=new yt(lt),ft=new Dt(function(t){return et.eq(t)})}function st(){function e(t,e){u(t),M(a(t),e,!1)}function n(){h(),m().empty()}function a(e){var n,a,r,i,s,c,l=b(),f=C(),u=v(o.visStart),h=d(v(u),f),p=t.map(e,S),g=[];for(n=0;n<l;n++){for(a=H(F(e,p,u,h)),r=0;r<a.length;r++)for(i=a[r],s=0;s<i.length;s++)c=i[s],c.row=n,c.level=r,g.push(c);d(u,7),d(h,7)}return g}function r(t,e,n){l(t)&&i(t,e),n.isEnd&&f(t)&&k(t,e,n),p(t,e)}function i(t,e){var n,a=y();e.draggable({zIndex:9,delay:50,scroll:!1,opacity:s("dragOpacity"),revertDuration:s("dragRevertDuration"),start:function(r,i){c("eventDragStart",e,t,r,i),a.start(function(a,r,i,o){e.draggable("option","revert",!a||!i&&!o),D(),a?(n=7*i+o*(s("isRTL")?-1:1),w(d(v(t.start),n),d(S(t),n))):n=0},r,"drag")},stop:function(r,i){a.stop(),D(),c("eventDragStop",e,t,r,i),n?g(this,t,n,0,t.allDay,r,i):e.css("filter","")}})}var o=this;o.renderEvents=e,o.compileDaySegs=a,o.clearEvents=n,o.bindDaySeg=r,vt.call(o);var s=o.opt,c=o.trigger,l=o.isEventDraggable,f=o.isEventResizable,u=o.reportEvents,h=o.reportEventClear,p=o.eventElementHandlers,g=(o.showEvents,o.hideEvents,o.eventDrop),m=o.getDaySegmentContainer,y=o.getHoverListener,w=o.renderDayOverlay,D=o.clearOverlays,b=o.getRowCnt,C=o.getColCnt,M=o.renderDaySegs,k=o.resizableDayEvent}function ct(t,e){function n(t,e){e&&d(t,7*e);var n=d(v(t),-((t.getDay()-r("firstDay")+7)%7)),s=d(v(n),7),c=v(n),l=v(s),f=r("weekends");f||(g(c),g(l,-1,!0)),a.title=o(c,d(v(l),-1),r("titleFormat")),a.start=n,a.end=s,a.visStart=c,a.visEnd=l,i(f?7:5)}var a=this;a.render=n,dt.call(a,t,e,"agendaWeek");var r=a.opt,i=a.renderAgenda,o=e.formatDates}function lt(t,e){function n(t,e){e&&(d(t,e),r("weekends")||g(t,e<0?-1:1));var n=v(t,!0),s=d(v(n),1);a.title=o(t,r("titleFormat")),a.start=a.visStart=n,a.end=a.visEnd=s,i(1),a.addedView&&a.addedView.render(t)}var a=this;a.render=n,a.addedView=null,dt.call(a,t,e,"agendaDay");var r=a.opt,i=a.renderAgenda,o=e.formatDate}function dt(n,a,r){function i(t){ee=t,o(),dt?me():s(),c()}function o(){oe=pe("theme")?"ui":"fc",ce=pe("weekends")?0:1,se=pe("firstDay"),(le=pe("isRTL"))?(de=-1,fe=ee-1):(de=1,fe=0),ue=C(pe("minTime")),he=C(pe("maxTime")),ve=pe("columnFormat")}function s(){var e,a,r,i,o,s=oe+"-widget-header",c=oe+"-widget-content",l=pe("slotMinutes")%15==0;for(e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+s+"'><div class='fc-week-number'/></th>",a=0;a<ee;a++)e+="<th class='fc- fc-col"+a+" "+s+"'/>";for(e+="<th class='fc-agenda-gutter "+s+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+s+"'>&nbsp;</th>",a=0;a<ee;a++)e+="<td class='fc- fc-col"+a+" "+c+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";for(e+="<td class='fc-agenda-gutter "+c+"'>&nbsp;</td></tr></tbody></table>",dt=t(e).appendTo(n),ut=dt.find("thead"),vt=ut.find("th").slice(1,-1),wt=dt.find("tbody"),bt=wt.find("td").slice(0,-1),Ct=bt.find("div.fc-day-content div"),Et=bt.eq(0),xt=Et.find("> div"),$(ut.add(ut.find("tr"))),$(wt.add(wt.find("tr"))),jt=ut.find("th:first"),qt=dt.find(".fc-agenda-gutter"),Ft=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),pe("allDaySlot")?(Vt=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto;'/>").appendTo(Ft),_t=t("<div style='position:relative;width:100%;overflow:hidden;min-height:37px'/>").appendTo(Vt),Ht=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(_t),e="<table style='width:100%;' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+s+" fc-agenda-axis'>"+pe("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative;min-height:34px'/></div></td></tr></table>",zt=t(e).appendTo(Vt),Nt=zt.find("tr"),H(Nt.find("td")),jt=jt.add(zt.find("th:first")),qt=qt.add(zt.find("th.fc-agenda-gutter")),Jt=t("<div class='fc-agenda-divider "+s+"'><div class='fc-agenda-divider-inner'/></div>").appendTo(Ft)):Ht=t([]),Wt=t("<div style='position:relative;width:100%;'/>").appendTo(Ft),Rt=t("<div style='position:relative;width:100%;'/>").appendTo(Ft),Lt=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(Ft),Bt=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(Lt),It=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Bt),a=0;a<ee;a++)Wt.append(t('<div class="fc-slot-jumper-top"/>')),Rt.append(t('<div class="fc-slot-jumper-bottom"/>'));Ot=Wt.children(),At=Rt.children(),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",r=p(),i=u(v(r),he),u(r,ue),ne=0;var d=pe("startOfBusiness")*(60/pe("slotMinutes")),f=(pe("endOfBusiness")-pe("slotMinutes")/60)*(60/pe("slotMinutes"));for(a=0;r<i;a++){o=r.getMinutes();var h=a<d||a>f?" fc-non-business-hours":"";e+="<tr class='fc-slot"+a+" "+(o?"fc-minor":"")+h+"'><th class='fc-agenda-axis "+s+"'>"+(l&&o?"&nbsp;":ke(r,pe("axisFormat")))+"</th><td class='"+c+"'><div style='position:relative'>&nbsp;</div></td></tr>",u(r,pe("slotMinutes")),ne++}e+="</tbody></table>",Pt=t(e).appendTo(Bt),Yt=Pt.find("div:first"),z(Pt.find("td")),jt=jt.add(Pt.find("th:first"))}function c(){var e,n,a,r,i,o=h(new Date);for(r=jt[0],pe("showWeekNumbers")&&(kt(t(r),q(0)),Mt(t(r),q(0))),e=0;e<ee;e++)i=q(e),n=vt.eq(e),n.html(ke(i,ve)),a=bt.eq(e),Q(n.add(a),i,pe),+i==+o?(a.addClass(oe+"-state-highlight fc-today"),St(a)):(a.removeClass(oe+"-state-highlight fc-today"),Tt(a))}function l(){f(),Se(),g(),y(),w(),b(),M(),k()}function f(){var t,e,n,a=h(new Date);for(t=0;t<ee;t++)n=q(t),e=bt.eq(t),+n==+a?(e.addClass(oe+"-state-highlight fc-today"),St(e)):(e.removeClass(oe+"-state-highlight fc-today"),Tt(e))}function g(){var e=pe("slotMinutes")%15==0,n=p();u(n,ue),Pt.find("th").each(function(a,r){var i=n.getMinutes();t(r).html(e&&i?"&nbsp;":ke(n,pe("axisFormat"))),u(n,pe("slotMinutes"))})}function y(){D()}function w(){D()}function D(){var e=pe("startOfBusiness")*(60/pe("slotMinutes")),n=(pe("endOfBusiness")-pe("slotMinutes")/60)*(60/pe("slotMinutes"));Pt.find("tr").each(function(a,r){a<e||a>n?t(r).addClass("fc-non-business-hours"):t(r).removeClass("fc-non-business-hours")})}function b(){vt.each(function(e,n){Q(t(n),q(e),pe)}),bt.each(function(e,n){Q(t(n),q(e),pe)})}function M(){H(Nt.find("td")),z(Pt.find("td"))}function k(){H(Nt.find("td")),z(Pt.find("td"))}function S(t,n){t===e&&(t=Gt),Gt=t,Te={};var a=wt.position().top,r=pe("allDaySlot")?4:0,i=Math.min(t-a,Pt.height()+r+1),o=Math.floor((i-r-1)/3);Vt.css("max-height",o+3),Nt.find("div:first").children().css("max-height",o),r=zt.height(),pe("allDaySlot")&&(Jt.css("position","relative"),Jt.css("top",r),Lt.css("top",r+4)),i=Math.min(t-a,Pt.height()+r+1),xt.height(i-B(Et));var s=i-r-1-(pe("allDaySlot")?4:0);Ft.css("top",a),Lt.height(s),Kt=Yt.height()+1,Wt.css("top",r+1),Rt.css("top",s+r+1-At.first().height()),n&&E(),lt.addedView&&lt.addedView.setHeight(t,n)}function T(a){if(a===e&&(a=Xt),Xt=a,lt.addedView){var r=Math.floor(n.parent().width()/2);n.css({width:r}),Xt=r}ie.clear(),Zt=0,N(jt.width("").each(function(e,n){Zt=Math.max(Zt,t(n).outerWidth())}),Zt);var i=Lt[0].clientWidth;Qt=Lt.width()-i||Vt.width()-_t.width(),Qt?(N(qt,Qt),qt.show().prev().removeClass("fc-last")):qt.hide().prev().addClass("fc-last"),
$t=Math.floor((i-Zt)/ee),N(vt.slice(0,-1),$t),Ot.each(function(e,n){var a=t(n);a.css("left",Zt+$t*(e+1)-1-a.width())}),At.each(function(e,n){var a=t(n);a.css("left",Zt+$t*(e+1)-1-a.width())}),lt.addedView&&lt.addedView.setWidth(r)}function E(){function t(){Lt.scrollTop(a)}var e=p(),n=v(e);n.setHours(pe("firstHour"));var a=X(e,n)+1;t(),setTimeout(t,0)}function x(){te=Lt.scrollTop()}function F(){Lt.scrollTop(te)}function H(t){t.unbind("click dblclick"),"double"==pe("bindingMode")?t.dblclick(O).mousedown(Ce):t.click(O).mousedown(Ce)}function z(t){t.unbind("click dblclick"),"double"==pe("bindingMode")?t.dblclick(R).mousedown(it):t.click(R).mousedown(it)}function O(t){var e=Math.min(ee-1,Math.floor((t.pageX-dt.offset().left-Zt)/$t)),n=q(e);ge("dayClick",bt[e],n,!0,t)}function R(t){var e=Math.min(ee-1,Math.floor((t.pageX-dt.offset().left-Zt)/$t)),n=q(e),a=this.parentNode.className.match(/fc-slot(\d+)/);if(a){var r=parseInt(a[1])*pe("slotMinutes"),i=Math.floor(r/60);n.setHours(i),n.setMinutes(r%60+ue),ge("dayClick",bt[e],n,!1,t)}else ge("dayClick",bt[e],n,!0,t)}function A(t,e,n){n&&ae.build();var a,r,i=v(lt.visStart);le?(a=m(e,i)*de+fe+1,r=m(t,i)*de+fe+1):(a=m(t,i),r=m(e,i)),a=Math.max(0,a),r=Math.min(ee,r),a<r&&H(L(0,a,0,r-1))}function L(t,e,n,a){var r=ae.rect(t,e,n,a,Ft);return ye(r,Ft)}function I(t,e){for(var n=v(lt.visStart),a=d(v(n),1),r=0;r<ee;r++){var i=new Date(Math.max(n,t)),o=new Date(Math.min(a,e));if(i<o){var s=r*de+fe,c=ae.rect(0,s,0,s,Bt),l=X(n,i),f=X(n,o);c.top=l,c.height=f-l,z(ye(c,Bt))}d(n,1),d(a,1)}}function V(t){return ie.left(t)}function _(t){return ie.right(t)}function P(t){return{row:Math.floor(m(t,lt.visStart)/7),col:U(t.getDay())}}function Y(t){var e=q(t.col),n=t.row;return pe("allDaySlot")&&n--,n>=0&&u(e,ue+n*pe("slotMinutes")),e}function q(t){return d(v(lt.visStart),t*de+fe)}function J(t){return pe("allDaySlot")&&!t.row}function U(t){return(t-Math.max(se,ce)+ee)%ee*de+fe}function X(t,n){if(t=v(t,!0),n<u(v(t),ue))return 0;if(n>=u(v(t),he))return Pt.height();var a=pe("slotMinutes"),r=60*n.getHours()+n.getMinutes()-ue,i=Math.floor(r/a),o=Te[i];return o===e&&(o=Te[i]=Pt.find("tr:eq("+i+") td div")[0].offsetTop),Math.max(0,Math.round(o-1+Kt*(r%a/a)))}function G(){return{left:Zt,right:Xt-Qt}}function K(t){return Nt}function tt(t){var e=v(t.start);return t.allDay?e:u(e,pe("defaultEventMinutes"))}function et(t,e){return e?v(t):u(v(t),pe("slotMinutes"))}function nt(t,e,n){n?pe("allDaySlot")&&A(t,d(v(e),1),!0):at(t,e)}function at(e,n){var a=pe("selectHelper");if(ae.build(),a){var r=m(e,lt.visStart)*de+fe;if(r>=0&&r<ee){var i=ae.rect(0,r,0,r,Bt),o=X(e,e),s=X(e,n);if(s>o){if(i.top=o,i.height=s-o,i.left+=2,i.width-=5,t.isFunction(a)){var c=a(e,n);c&&(i.position="absolute",i.zIndex=8,Ut=t(c).css(i).appendTo(Bt))}else i.isStart=!0,i.isEnd=!0,Ut=t(Me({title:"",start:e,end:n,className:["fc-select-helper"],editable:!1},i)),Ut.css("opacity",pe("dragOpacity"));Ut&&(z(Ut),Bt.append(Ut),N(Ut,i.width,!0),W(Ut,i.height,!0))}}}else I(e,n)}function rt(){we(),Ut&&(Ut.remove(),Ut=null)}function it(e){if(1==e.which&&pe("selectable")){be(e);var n;re.start(function(t,e){if(rt(),!t||t.col!=e.col&&pe("selectHelper")||J(t))n=null;else{var a=Y(e),r=Y(t);n=[a,u(v(a),pe("slotMinutes")),r,u(v(r),pe("slotMinutes"))].sort(j),at(n[0],n[3])}},e),t(document).one("mouseup",function(t){re.stop(),n&&(+n[0]==+n[1],De(n[0],n[3],!1,t))})}}function ot(t,e,n){ge("dayClick",bt[U(t.getDay())],t,e,n)}function st(t,e,n){re.start(function(t){if(we(),t)if(J(t))L(t.row,t.col,t.row,t.col);else{var e=Y(t),n=u(v(e),pe("defaultEventMinutes"));I(e,n)}},e)}function ct(t,e,n){var a=re.stop();we(),a&&ge("drop",t,Y(a),J(a),e,n)}var lt=this;lt.renderAgenda=i,lt.setWidth=T,lt.setHeight=S,lt.beforeHide=x,lt.afterShow=F,lt.defaultEventEnd=tt,lt.timePosition=X,lt.dayOfWeekCol=U,lt.dateCell=P,lt.cellDate=Y,lt.cellIsAllDay=J,lt.allDayRow=K,lt.allDayBounds=G,lt.getHoverListener=function(){return re},lt.colContentLeft=V,lt.colContentRight=_,lt.getDaySegmentContainer=function(){return Ht},lt.getSlotJumpersTop=function(){return Ot},lt.getSlotJumpersBottom=function(){return At},lt.getslotScroller=function(){return Lt},lt.getSlotContent=function(){return Bt},lt.getSlotSegmentContainer=function(){return It},lt.getMinMinute=function(){return ue},lt.getMaxMinute=function(){return he},lt.getBodyContent=function(){return Bt},lt.getRowCnt=function(){return 1},lt.getColCnt=function(){return ee},lt.getColWidth=function(){return $t},lt.getSlotHeight=function(){return Kt},lt.defaultSelectionEnd=et,lt.renderDayOverlay=A,lt.renderSelection=nt,lt.renderSlotSelection=at,lt.clearSelection=rt,lt.reportDayClick=ot,lt.dragStart=st,lt.dragStop=ct,lt.updateGrid=l,lt.updateToday=f,lt.setAxisFormat=g,lt.setStartOfBusiness=y,lt.setEndOfBusiness=w,lt.setWeekendDays=b,lt.setBindingMode=M,lt.setSelectable=k,ht.call(lt,n,a,r),gt.call(lt),pt.call(lt),ft.call(lt);var dt,ut,vt,wt,bt,Ct,Et,xt,Ft,Ht,zt,Nt,Wt,Ot,Rt,At,Lt,Bt,It,Vt,_t,Ht,Pt,Yt,jt,qt,Jt,Ut,Xt,Gt,Zt,$t,Qt,Kt,te,ee,ne,ae,re,ie,oe,se,ce,le,de,fe,ue,he,ve,pe=lt.opt,ge=lt.trigger,me=lt.clearEvents,ye=lt.renderOverlay,we=lt.clearOverlays,De=lt.reportSelection,be=lt.unselect,Ce=lt.daySelectionMousedown,Me=lt.slotSegHtml,ke=a.formatDate,Se=lt.setTimeIndicator,Te={};Z(n.addClass("fc-agenda")),ae=new mt(function(e,n){function a(t){return Math.max(c,Math.min(l,t))}var r,i,o;vt.each(function(e,a){r=t(a),i=r.offset().left,e&&(o[1]=i),o=[i],n[e]=o}),o[1]=i+r.outerWidth(),pe("allDaySlot")&&(r=Nt,i=r.offset().top,e[0]=[i,i+r.outerHeight()]);for(var s=Bt.offset().top,c=Lt.offset().top,l=c+Lt.outerHeight(),d=0;d<ne;d++)e.push([a(s+Kt*d),a(s+Kt*(d+1))])}),re=new yt(ae),ie=new Dt(function(t){return Ct.eq(t)})}function ft(){function n(){var e=rt(),n=e.children(".fc-timeline"),a=e.children(".fc-timeline-arrow");0!=n.length&&0!=a.length||(n=t("<hr>").addClass("fc-timeline").appendTo(e),a=t("<div>").addClass("fc-timeline-arrow").appendTo(e));var r=new Date,i=t(".fc-today",w.element);if(!(i.length>0))return n.hide(),void a.hide();n.show(),a.show();var o=60*r.getHours()*60+60*r.getMinutes()+r.getSeconds(),s=o/86400;n.css("top",Math.floor(e.height()*s-1)+"px"),a.css("top",Math.floor(e.height()*s-1)-5+"px");var c=i.position().left,l=i.width();n.css({left:c+"px",width:l+"px"})}function a(t,e){E(t);var a,r=t.length,s=[],l=[];for(a=0;a<r;a++)t[a].allDay?s.push(t[a]):l.push(t[a]);b("allDaySlot")&&(Q(i(s),e,!0),R(),A()),c(o(l),e),b("currentTimeIndicator")&&(window.clearInterval(D),D=window.setInterval(n,3e4),n()),w.addedView&&w.addedView.renderEvents(t,e)}function r(){x(),L().empty(),P().empty(),w.addedView&&w.addedView.clearEvents()}function i(e){var n,a,r,i,o=H(F(e,t.map(e,S),w.visStart,w.visEnd)),s=o.length,c=[];for(n=0;n<s;n++)for(a=o[n],r=0;r<a.length;r++)i=a[r],i.row=0,i.level=n,c.push(i);return c}function o(e){var n,a,r,i,o,c,l=et(),f=J(),h=q(),p=u(v(w.visStart),f),g=t.map(e,s),m=[];for(n=0;n<l;n++){for(a=H(F(e,g,p,u(v(p),h-f))),ut(a),r=0;r<a.length;r++)for(i=a[r],o=0;o<i.length;o++)c=i[o],c.col=n,c.level=r,m.push(c);d(p,1,!0)}return m}function s(t){return t.end?v(t.end):u(v(t.start),b("defaultEventMinutes"))}function c(n,a){var r,i,o,s,c,d,f,u,v,p,g,m,y,D,M,k,S,T,E,x,F,H,N=n.length,W="",R={},A={},L=I(),Y=V(),j=P(),q=_(),J=et(),X=new Array(J),Q=10;for((x=b("isRTL"))?(F=-1,H=J-1):(F=1,H=0),r=0;r<J;r++)X[r]={positions:new Array};for(r=0;r<N;r++)i=n[r],o=i.event,s=U(i.start,i.start),c=U(i.start,i.end),d=i.col,f=i.level,u=i.forward||0,v=Z(d*F+H),p=$(d*F+H)-v,p=Math.min(p-6,.95*p),g=f?p/(f+u+1):u?2*(p/(u+1)-6):p,m=v+p/(f+u+1)*f*F+(x?p-g:0),i.top=s,i.left=m,i.outerWidth=g,i.outerHeight=c-s,W+=l(o,i);for(j[0].innerHTML=W,y=j.children(),r=0;r<N;r++)i=n[r],o=i.event,D=t(y[r]),M=C("eventRender",o,o,D),M===!1?D.remove():(M&&M!==!0&&(D.remove(),D=t(M).css({position:"absolute",top:i.top,left:i.left}).appendTo(j)),i.element=D,o._id===a?h(o,D,i):D[0]._fci=r,it(o,D));for(z(j,n,h),r=0;r<N;r++)i=n[r],(D=i.element)&&(S=R[k=i.key=G(D[0])],i.vsides=S===e?R[k]=B(D,!0):S,S=A[k],i.hsides=S===e?A[k]=O(D,!0):S,T=D.find("div.fc-event-content"),T.length&&(i.contentTop=T[0].offsetTop));for(r=0;r<N;r++)i=n[r],(D=i.element)&&(D[0].style.width=Math.max(0,i.outerWidth-i.hsides)+"px",E=Math.max(w.getSlotHeight()-i.vsides,i.outerHeight-i.vsides),D[0].style.height=E+"px",o=i.event,i.contentTop!==e&&E-i.contentTop<10&&(D.find("div.fc-event-time").text(ht(o.start,b("timeFormat"))+" - "+o.title),D.find("div.fc-event-title").remove()),X[i.col].positions.push({top:i.top,bottom:i.top+E+i.vsides}),C("eventAfterRender",o,o,D));for(r=0;r<J;r++){var K=null,tt=X[r],nt=tt.positions;nt=nt.sort(function(t,e){return t.top-e.top}),t.each(nt,function(t,e){K=null==K?e.bottom:Math.min(K,e.bottom)}),tt.min=K,tt.max=nt.length?nt[nt.length-1].top:null}for(q.unbind("scroll").scroll(function(){var e=t(this).scrollTop();for(r=0;r<J;r++){var n=X[r];null!=n.min&&n.min<=e+Q?t(L[r]).css("display",""):t(L[r]).css("display","none"),null!=n.max&&n.max>=e+q.height()-Q?t(Y[r]).css("display",""):t(Y[r]).css("display","none")}}).trigger("scroll"),L.each(function(e,n){t(n).unbind("click").click(function(){var n=0,a=q.scrollTop();t.each(X[e].positions,function(t,e){return e.bottom<=a+Q&&(n=e.top),e.top<a}),q.scrollTop(n-w.getSlotHeight())})}),Y.each(function(e,n){t(n).unbind("click").click(function(){var n=0,a=q.scrollTop();t.each(X[e].positions,function(t,e){if(e.top>=a+q.height()-Q)return n=e,!1}),q.scrollTop(n.bottom-n.top+w.getSlotHeight()>q.height()?n.top-w.getSlotHeight():n.bottom-q.height()+w.getSlotHeight()+1)})}),r=0;r<N;r++)i=n[r],i.event.source&&i.event.source.background&&t("td.fc-col"+i.col,w.element).addClass("fc-source-bg")}function l(t,e){var n="<",a=t.url,r=K(t,b),i=r?" style='"+r+"'":"",o=["fc-event","fc-event-skin","fc-event-vert"];return M(t)&&o.push("fc-event-draggable"),e.isStart&&o.push("fc-corner-top"),e.isEnd&&o.push("fc-corner-bottom"),o=o.concat(t.className),t.source&&(o=o.concat(t.source.className||[])),n+=a?"a href='"+X(t.url)+"'":"div",n+=" class='"+o.join(" ")+"' style='position:absolute;z-index:8;top:"+e.top+"px;left:"+e.left+"px;"+r+"'><div class='fc-event-inner fc-event-skin'"+i+"><div class='fc-event-head fc-event-skin'"+i+"><div class='fc-event-time'>"+X(pt(t.start,t.end,b("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+X(t.title)+"</div></div><div class='fc-event-bg'></div></div>",e.isEnd&&k(t)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(a?"a":"div")+">"}function f(t,e,n){M(t)&&p(t,e,n.isStart),n.isEnd&&k(t)&&tt(t,e,n),N(t,e)}function h(t,e,n){var a=e.find("div.fc-event-time");M(t)&&g(t,e,a),n.isEnd&&k(t)&&m(t,e,a),N(t,e)}function p(t,e,n){function a(){s||(e.width(r).height("").draggable("option","grid",null),s=!0)}var r,i,o,s=!0,c=b("isRTL")?-1:1,l=Y(),f=nt(),h=at(),p=J();e.draggable({zIndex:9,scroll:!1,opacity:b("dragOpacity","month"),revertDuration:b("dragRevertDuration"),start:function(p,g){C("eventDragStart",e,t,p,g),r=e.width(),l.start(function(r,l,p,g){if(dt(),r){if(i=!1,o=g*c,r.row)if(n)if(s)e.width(f-10),W(e,h*Math.round((t.end?(t.end-t.start)/Yt:b("defaultEventMinutes"))/b("slotMinutes"))),e.draggable("option","grid",[f,1]),s=!1;else{var m=w.cellDate;if(r&&(r.col==l.col||!b("selectHelper"))){var D=m(r),C=t.end?y(t.end,t.start):b("defaultEventMinutes"),M=u(v(D,!1),C);dates=[D,M].sort(j),lt(dates[0],dates[1])}}else i=!0;else ct(d(v(t.start),o),d(S(t),o)),a();i=i||s&&!o}else a(),i=!0;e.draggable("option","revert",i)},p,"drag")},stop:function(n,r){if(l.stop(),dt(),C("eventDragStop",e,t,n,r),i)a(),e.css("filter","");else{var c=0;s||(c=Math.round((e.offset().top-rt().offset().top)/h)*b("slotMinutes")+p-(60*t.start.getHours()+t.start.getMinutes())),ot(this,t,o,c,s,n,r)}}})}function g(t,e,n){function a(e){var a,r=u(v(t.start),e);t.end&&(a=u(v(t.end),e)),n.text(pt(r,a,b("timeFormat")))}function r(){l&&(n.css("display",""),e.draggable("option","grid",[g,m]),l=!1)}var i,o,s,c,l=!1,f=b("isRTL")?-1:1,h=Y(),p=et(),g=nt(),m=at();e.draggable({zIndex:9,scroll:!1,grid:[g,m],axis:1==p&&"y",opacity:b("dragOpacity"),revertDuration:b("dragRevertDuration"),start:function(a,u){C("eventDragStart",e,t,a,u),i=e.position(),s=c=0,h.start(function(a,i,s,c){e.draggable("option","revert",!a),dt(),a&&(o=c*f,b("allDaySlot")&&!a.row?(l||(l=!0,n.hide(),e.draggable("option","grid",null)),ct(d(v(t.start),o),d(S(t),o))):r())},a,"drag")},drag:function(t,e){e.position.left=i.left+o*f*g,s=Math.round((e.position.top-i.top)/m)*b("slotMinutes"),s!=c&&(l||a(s),c=s)},stop:function(n,c){var d=h.stop();dt(),C("eventDragStop",e,t,n,c),d&&(o||s||l)?ot(this,t,o,l?0:s,l,n,c):(r(),e.css("filter",""),e.css(i),a(0))}})}function m(t,e,n){var a,r,i=at();e.resizable({handles:{s:"div.ui-resizable-s"},grid:i,start:function(n,i){a=r=0,e.css("z-index",9),C("eventResizeStart",this,t,n,i)},resize:function(o,s){a=Math.round((Math.max(i,e.height())-s.originalSize.height)/i),a!=r&&(n.text(pt(t.start,a||t.end?u(T(t),b("slotMinutes")*a):null,b("timeFormat"))),r=a)},stop:function(n,r){C("eventResizeStop",this,t,n,r);var i=b("slotMinutes")*a;null===t.end&&(i+=b("defaultEventMinutes")),a?st(this,t,0,i,n,r):e.css("z-index",8)}})}var w=this;w.renderEvents=a,w.compileDaySegs=i,w.clearEvents=r,w.slotSegHtml=l,w.bindDaySeg=f,w.setTimeIndicator=n,vt.call(w);var D,b=w.opt,C=w.trigger,M=w.isEventDraggable,k=w.isEventResizable,T=w.eventEnd,E=w.reportEvents,x=w.reportEventClear,N=w.eventElementHandlers,R=w.setHeight,A=w.setWidth,L=w.getDaySegmentContainer,I=w.getSlotJumpersTop,V=w.getSlotJumpersBottom,_=w.getslotScroller,P=(w.getSlotContent,w.getSlotSegmentContainer),Y=w.getHoverListener,q=w.getMaxMinute,J=w.getMinMinute,U=w.timePosition,Z=w.colContentLeft,$=w.colContentRight,Q=w.renderDaySegs,tt=w.resizableDayEvent,et=w.getColCnt,nt=w.getColWidth,at=w.getSlotHeight,rt=w.getBodyContent,it=w.reportEventElement,ot=(w.showEvents,w.hideEvents,w.eventDrop),st=w.eventResize,ct=w.renderDayOverlay,lt=w.renderSlotSelection,dt=w.clearOverlays,ft=w.calendar,ht=ft.formatDate,pt=ft.formatDates}function ut(t){var e,n,a,r,i,o;for(e=t.length-1;e>0;e--)for(r=t[e],n=0;n<r.length;n++)for(i=r[n],a=0;a<t[e-1].length;a++)o=t[e-1][a],x(i,o)&&(o.forward=Math.max(o.forward||0,(i.forward||0)+1))}function ht(n,a,r){function i(e,n){var a=W[e];return"object"!=typeof a||a.length||t.isArray(a)?a:U(a,n||r)}function o(t,e){return a.trigger.apply(a,[t,e||T].concat(Array.prototype.slice.call(arguments,2),[T]))}function s(t){return l(t)&&!i("disableDragging")}function c(t){return l(t)&&!i("disableResizing")}function l(t){return et(t.editable,(t.source||{}).editable,i("editable"))}function f(t){H={};var e,n,a=t.length;for(e=0;e<a;e++)n=t[e],H[n._id]?H[n._id].push(n):H[n._id]=[n]}function h(t){return t.end?v(t.end):E(t)}function p(t,e){z.push(e),N[t._id]?N[t._id].push(e):N[t._id]=[e]}function g(){z=[],N={}}function m(e,n){n.click(function(t){if(!n.hasClass("ui-draggable-dragging")&&!n.hasClass("ui-resizable-resizing"))return y(n,!0),o("eventClick",this,e,t)}).hover(function(t){o("eventMouseover",this,e,t)},function(t){o("eventMouseout",this,e,t)}),n.find(".fc-event-checkbox").click(function(n){o("eventCheckClicked",this,t(this),e,n)})}function y(e,n){if("todo"!=T.name||T.eventSelectLock<0)return!1;if("undefined"!=typeof e&&null!=e&&0!=e.length||(e=T.getDaySegmentContainer().find(t('.fc-event[data-repeat-hash="'+T.selectedElement+'"]:visible'))),0==e.length&&(e=T.element.find(".fc-event:visible:first")),0==e.length)return o("selectEmpty"),!1;T.selectedElement=e.attr("data-repeat-hash"),T.element.find(".fc-event-selected").removeClass("fc-event-selected"),e.addClass("fc-event-selected");var a=e.position().top;if(a<e.outerHeight()||a>T.getDaySegmentContainer().parent().height()){var r=T.getDaySegmentContainer().parent().scrollTop();T.getDaySegmentContainer().parent().scrollTop(r+a-.2*T.getDaySegmentContainer().parent().height())}n||e.trigger("mouseover").trigger("click")}function w(t,e){b(t,e,"show")}function D(t,e){b(t,e,"hide")}function b(t,e,n){t[n]()}function C(t,e,n,a,r,i,s){var c=e.allDay,l=e._id;k([e],n,a,r),o("eventDrop",t,e,n,a,r,function(){k([e],-n,-a,c),F(l)},i,s),F(l)}function M(t,e,n,a,r,i){var s=e._id;S([e],n,a),o("eventResize",t,e,n,a,function(){S([e],-n,-a),F(s)},r,i),F(s)}function k(t,n,a,r){a=a||0;for(var i,o=t.length,s=0;s<o;s++)i=t[s],r!==e&&(i.allDay=r),u(d(i.start,n,!0),a),i.end&&(i.end=u(d(i.end,n,!0),a)),x(i,W)}function S(t,e,n){n=n||0;for(var a,r=t.length,i=0;i<r;i++)a=t[i],a.end=u(d(h(a),e,!0),n),x(a,W)}var T=this;T.element=n,T.calendar=a,T.name=r,T.opt=i,T.trigger=o,T.isEventDraggable=s,T.isEventResizable=c,T.reportEvents=f,T.eventEnd=h,T.reportEventElement=p,T.reportEventClear=g,T.eventElementHandlers=m,T.showEvents=w,T.hideEvents=D,T.eventDrop=C,T.eventResize=M,T.selectedElement=null,T.selectEvent=y;var E=T.defaultEventEnd,x=a.normalizeEvent,F=a.reportEventChange,H={},z=[],N={},W=a.options}function vt(){function n(e,n,a){var d,v,m,w,D,b,C,M,k=I(),S=x(),T=F(),E=0,H=e.length;for(k[0].innerHTML=r(e),i(e,k.children()),o(e),s(e,k,n),l(e),f(e),u(e),d=h(),v=0;v<S;v++){for(m=0,w=[],D=0;D<T;D++)w[D]=0;for(;E<H&&(b=e[E]).row==v;){for(C=q(w.slice(b.startCol,b.endCol)),b.top=C,"undefined"!=typeof b.outerHeight&&(C+=b.outerHeight),M=b.startCol;M<b.endCol;M++)w[M]=C;E++}a&&k.parent().height(q(w)?q(w)+3:0),d[v].height(q(w))}if(g(e,p(d)),t(".fc-source-bg",y.element).removeClass("fc-source-bg"),a){for(E=0;E<H;E++)if(b=e[E],b.event.source&&b.event.source.background)for(c=b.startCol;c<b.endCol;c++)t("td.fc-col"+c,y.element).addClass("fc-source-bg")}else for(E=0;E<H;E++)if(b=e[E],b.event.source&&b.event.source.background)for(c=b.startCol;c<b.endCol;c++)t("td.fc-day"+(7*b.row+c),y.element).addClass("fc-source-bg")}function a(e,n,a){var o,s,c,d=t("<div/>"),v=I(),m=e.length;for(d[0].innerHTML=r(e),o=d.children(),v.append(o),i(e,o),l(e),f(e),u(e),g(e,p(h())),o=[],s=0;s<m;s++)c=e[s].element,c&&(e[s].row===n&&c.css("top",a),o.push(c[0]));return t(o)}function r(t){var e,n,a,r,i,o,s,c,l,d,f,u=w("isRTL"),h=t.length,v=N(),p=v.left,g=v.right,m="";for(e=0;e<h;e++)n=t[e],a=n.event,i=["fc-event","fc-event-skin","fc-event-hori"],b(a)&&i.push("fc-event-draggable"),u?(n.isStart&&i.push("fc-corner-right"),n.isEnd&&i.push("fc-corner-left"),o=A(n.end.getDay()-1),s=A(n.start.getDay()),c=n.isEnd?W(o):p,l=n.isStart?R(s):g):(n.isStart&&i.push("fc-corner-left"),n.isEnd&&i.push("fc-corner-right"),o=A(n.start.getDay()),s=A(n.end.getDay()-1),c=n.isStart?W(o):p,l=n.isEnd?R(s):g),d=l-c-2-2-2,i=i.concat(a.className),a.source&&(i=i.concat(a.source.className||[])),r=a.url,f=K(a,w),m+=r?"<a href='"+X(r)+"'":"<div",m+=" class='"+i.join(" ")+"' style='position:absolute;z-index:8;left:"+c+"px;"+f+"'><div class='fc-event-inner fc-event-skin' style='width:"+d+"px;z-index:inherit;"+(f?f:"")+"'>",w("dayEventSizeStrict")&&(m+="<div class='fc-event-title-strict'>"),!a.allDay&&n.isStart&&w("timeFormat")&&(m+="<span class='fc-event-time'>"+X(P(a.start,a.end,w("timeFormat")))+"</span>"),m+="<span class='fc-event-title'>"+X(a.title.replace(/(\r\n|\n|\r)+/gm," "))+"</span>",w("dayEventSizeStrict")&&(m+="</div>"),m+="</div>",n.isEnd&&C(a)&&(m+="<div class='ui-resizable-handle ui-resizable-"+(u?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),m+="<div class='fc-event-bg'></div></"+(r?"a":"div")+">",n.left=c,n.outerWidth=l-c,n.startCol=o,n.endCol=s+1;return m}function i(e,n){var a,r,i,o,s,c=e.length;for(a=0;a<c;a++)r=e[a],i=r.event,o=t(n[a]),s=D("eventRender",i,i,o),s===!1?o.remove():(s&&s!==!0&&(s=t(s).css({position:"absolute",left:r.left}),o.replaceWith(s),o=s),r.element=o)}function o(t){var e,n,a,r=t.length;for(e=0;e<r;e++)n=t[e],a=n.element,a&&k(n.event,a)}function s(t,e,n){var a,r,i,o,s=t.length;for(a=0;a<s;a++)r=t[a],i=r.element,i&&(o=r.event,o._id===n?_(o,i,r):i[0]._fci=a);z(e,t,_)}function l(t){var n,a,r,i,o,s=t.length,c={};for(n=0;n<s;n++)a=t[n],r=a.element,r&&(i=a.key=G(r[0]),o=c[i],o===e&&(o=c[i]=O(r,!0)),a.hsides=o)}function f(t){var e,n,a,r=t.length;for(e=0;e<r;e++)n=t[e],a=n.element,a&&(a[0].style.width=Math.max(0,n.outerWidth-n.hsides)+"px")}function u(t){var n,a,r,i,o,s=t.length,c={};for(n=0;n<s;n++)a=t[n],r=a.element,r?(i=a.key,o=c[i],o===e&&(o=c[i]=V(r)),a.outerHeight=r[0].offsetHeight+o):a.outerHeight=0}function h(){var t,e=x(),n=[];for(t=0;t<e;t++)n[t]=H(t).find("td:first div.fc-day-content > div");return n}function p(t){var e,n=t.length,a=[];for(e=0;e<n;e++)a[e]=t[e][0].offsetTop;return a}function g(t,e){var n,a,r,i,o=t.length;for(n=0;n<o;n++)a=t[n],r=a.element,r&&(r[0].style.top=e[a.row]+(a.top||0)+"px",i=a.event,D("eventAfterRender",i,i,r))}function m(e,n,r){var i=w("isRTL"),o=i?"w":"e",s=n.find("div.ui-resizable-"+o),c=!1;Z(n),n.mousedown(function(t){t.preventDefault()}).click(function(t){c&&(t.preventDefault(),t.stopImmediatePropagation())}),s.mousedown(function(s){function l(n){D("eventResizeStop",this,e,n),t("body").css("cursor",""),h.stop(),j(),f&&E(this,e,f,0,n),setTimeout(function(){c=!1},0)}if(1==s.which){c=!0;var f,u,h=y.getHoverListener(),p=x(),g=F(),m=i?-1:1,w=i?g-1:0,b=n.css("top"),C=t.extend({},e),k=L(e.start);J(),t("body").css("cursor",o+"-resize").one("mouseup",l),D("eventResizeStart",this,e,s),h.start(function(t,c){if(t){var l=Math.max(k.row,t.row),h=t.col;1==p&&(l=0),l==k.row&&(h=i?Math.min(k.col,h):Math.max(k.col,h)),f=7*l+h*m+w-(7*c.row+c.col*m+w);var g=d(M(e),f,!0);if(f){C.end=g;var y=u;u=a(B([C]),r.row,b),u.find("*").css("cursor",o+"-resize"),D("eventResizeHelperCreated",this,e,s,n,u),y&&y.remove(),T(n)}else u&&(S(n),u.remove(),u=null);j(),Y(e.start,d(v(g),1))}},s)}})}var y=this;y.renderDaySegs=n,y.resizableDayEvent=m;var w=y.opt,D=y.trigger,b=y.isEventDraggable,C=y.isEventResizable,M=y.eventEnd,k=y.reportEventElement,S=y.showEvents,T=y.hideEvents,E=y.eventResize,x=y.getRowCnt,F=y.getColCnt,H=(y.getColWidth,y.allDayRow),N=y.allDayBounds,W=y.colContentLeft,R=y.colContentRight,A=y.dayOfWeekCol,L=y.dateCell,B=y.compileDaySegs,I=y.getDaySegmentContainer,_=y.bindDaySeg,P=y.calendar.formatDates,Y=y.renderDayOverlay,j=y.clearOverlays,J=y.clearSelection}function pt(){function e(t,e,r){n(),e||(e=c(t,r)),l(t,e,r),a(t,e,r)}function n(t){f&&(f=!1,d(),s("unselect",null,t))}function a(t,e,n,a){f=!0,s("select",null,t,e,n,a)}function r(e){var r=i.cellDate,s=i.cellIsAllDay,c=i.getHoverListener();i.reportDayClick;if(1==e.which&&o("selectable")){n(e);var f;c.start(function(t,e){d(),t&&s(t)?(f=[r(e),r(t)].sort(j),l(f[0],f[1],!0)):f=null},e),t(document).one("mouseup",function(t){c.stop(),f&&(+f[0]==+f[1],a(f[0],f[1],!0,t))})}}var i=this;i.select=e,i.unselect=n,i.reportSelection=a,i.daySelectionMousedown=r;var o=i.opt,s=i.trigger,c=i.defaultSelectionEnd,l=i.renderSelection,d=i.clearSelection,f=!1;o("selectable")&&o("unselectAuto")&&t(document).mousedown(function(e){var a=o("unselectCancel");a&&t(e.target).parents(a).length||n(e)})}function gt(){function e(e,n){var a=i.shift();return a||(a=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),a[0].parentNode!=n[0]&&a.appendTo(n),r.push(a.css(e).show()),a}function n(){for(var t;t=r.shift();)i.push(t.hide().unbind())}var a=this;a.renderOverlay=e,a.clearOverlays=n;var r=[],i=[]}function mt(t){var e,n,a=this;a.build=function(){e=[],n=[],t(e,n)},a.cell=function(t,a){var r,i=e.length,o=n.length,s=-1,c=-1;for(r=0;r<i;r++)if(a>=e[r][0]&&a<e[r][1]){s=r;break}for(r=0;r<o;r++)if(t>=n[r][0]&&t<n[r][1]){c=r;break}return s>=0&&c>=0?{row:s,col:c}:null},a.rect=function(t,a,r,i,o){var s=o.offset();return{top:e[t][0]-s.top,left:n[a][0]-s.left,width:n[i][1]-n[a][0],height:e[r][1]-e[t][0]}}}function yt(e){function n(t){if(wt(t),s.pageX-t.pageX==0&&s.pageY-t.pageY==0)return!1;var n=e.cell(t.pageX,t.pageY);(!n!=!o||n&&(n.row!=o.row||n.col!=o.col))&&(n?(i||(i=n),r(n,i,n.row-i.row,n.col-i.col)):r(n,i),o=n)}var a,r,i,o,s,c=this;c.start=function(c,l,d){s=l,r=c,i=o=null,e.build(),n(l),a=d||"mousemove",t(document).bind(a,n)},c.stop=function(){return t(document).unbind(a,n),o}}function wt(t){t.pageX===e&&(t.pageX=t.originalEvent.pageX,t.pageY=t.originalEvent.pageY)}function Dt(t){function n(e){return r[e]=r[e]||t(e)}var a=this,r={},i={},o={};a.left=function(t){return i[t]=i[t]===e?n(t).position().left:i[t]},a.right=function(t){return o[t]=o[t]===e?a.left(t)+n(t).width():o[t]},a.clear=function(){r={},i={},o={}}}function bt(t,e){target=t.find(".fc-day-text"),target.html(e)}function Ct(t,e){target=t.find(".fc-day-text"),target.html("")}function Mt(t,e){target=t.find(".fc-week-number"),target.html(Et(e))}function kt(t,e){target=t.find(".fc-week-number"),target.html("")}function St(e){var n=e.attr("class").split(" "),a=["fc-state-highlight","fc-today","fc-widget-content","fc-source-bg"];n=t.grep(n,function(e){return!(t.inArray(e,a)>-1)}),n.push("fc-widget-header");var r=t("."+n.join("."));r.addClass("fc-today")}function Tt(e){var n=e.attr("class").split(" "),a=["fc-state-highlight","fc-today","fc-widget-content","fc-source-bg"];n=t.grep(n,function(e){return!(t.inArray(e,a)>-1)}),n.push("fc-widget-header");var r=t("."+n.join("."));r.removeClass("fc-today")}function Et(t){var e=new Date(t.getFullYear(),0,4,t.getHours()),n=(e.getDay()-1+7)%7,a=Math.round((t-e)/864e5),r=Math.floor((a+n)/7)+1,i=(t.getDay()-1+7)%7;if(11==t.getMonth()&&t.getDate()>=28){if(e=new Date(t.getFullYear()+1,0,4,t.getHours()),n=(e.getDay()-1+7)%7,i<n)return 1;var o=new Date(t.valueOf()-6048e5);return Et(o)+1}if(0==r&&i>3&&0==t.getMonth()){var o=new Date(t.valueOf()-6048e5);return Et(o)+1}return r}function xt(){function n(){g(),D().empty()}function a(t,e){t.sort(i),p(t),o(r(t),e)}function r(t){var e,n,a,r,i,o,s,c,u={},p=f("columnFormat",l.name),g=f("firstDay"),y=f("listSections"),w=h(new Date),D=d(v(w),-((w.getDay()-g+7)%7));for(n=0;n<t.length;n++){e=t[n];var b=v(e.end?e.end:e.start);if(!(b<l.start||e.start>l.visEnd)){var M=v(e.start<l.start?l.start:e.start,!0),k=v(b>l.visEnd?l.visEnd:b,!0),S=m(k,M);for(a=0;a<=S;a++)c=v(M),c.setDate(c.getDate()+a),r=m(c,w),i=Math.floor(m(c,D)/7),o=c.getMonth()+12*(c.getYear()-w.getYear())-w.getMonth(),"smart"==y?r<0?s=f("listTexts","past"):0==r?s=f("listTexts","today"):1==r?s=f("listTexts","tomorrow"):0==i?s=f("listTexts","thisWeek"):1==i?s=f("listTexts","nextWeek"):0==o?s=f("listTexts","thisMonth"):1==o?s=f("listTexts","nextMonth"):o>1&&(s=f("listTexts","future")):s="month"==y?C(c,"MMMM yyyy"):"week"==y?f("listTexts","week")+C(c," W"):"day"==y?C(c,p):"",s in u||(u[s]={events:[],start:c,title:s,daydiff:r,weekdiff:i,monthdiff:o}),u[s].events.push(e)}}return u}function i(t,e){var n=t.start.getTime()-e.start.getTime();if(0==n){var a=t.end?t.end:t.start,r=e.end?e.end:e.start;n=a.getTime()-r.getTime()}return 0==n&&(t.compareString<e.compareString?n=-1:e.compareString<t.compareString&&(n=1)),n}function o(e,n){var a,r,i,o,l,d,h,v,p,g,m,b,C,M=f("theme")?"ui":"fc",k=M+"-widget-header",S=M+"-widget-content";for(r=0;r<e.length;r++){for(i=e[r],i.title&&t('<div class="fc-list-header '+k+'">'+X(i.title)+"</div>").appendTo(D()),g=t("<div>").addClass("fc-list-section "+S).appendTo(D()),d="",a=0;a<i.events.length;a++)o=i.events[a],l=s(o,i),h=K(o,f),v=h?" style='"+h+"'":"",p=["fc-event","fc-event-skin","fc-event-vert","fc-corner-top","fc-corner-bottom"].concat(o.className),o.source&&o.source.className&&(p=p.concat(o.source.className)),d+="<div class='"+p.join(" ")+"'"+v+"><div class='fc-event-inner fc-event-skin'"+v+"><div class='fc-event-head fc-event-skin'"+v+"><div class='fc-event-time'>"+(l[0]?'<span class="fc-col-date">'+l[0]+"</span> ":"")+(l[1]?'<span class="fc-col-time">'+l[1]+"</span>":"")+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+X(o.title.replace(/(\r\n|\n|\r)+/gm," "))+"</div></div><div class='fc-event-bg'></div></div></div>";for(g[0].innerHTML=d,b=g.children(),a=0;a<i.events.length;a++)o=i.events[a],m=t(b[a]),C=u("eventRender",o,o,m),C===!1?m.remove():(C&&C!==!0&&(m.remove(),m=t(C).appendTo(g)),o._id===n?w(o,m,i):m[0]._fci=a,y(o,m));c(g,i,w)}$(D())}function s(t,e){var n=f("timeFormat","list"),a=f("timeFormat","listFull"),r=f("timeFormat","listFullAllDay"),i=f("columnFormat"),o=f("listSections"),s=v(t.end?t.end:t.start),c=s.getTime()-t.start.getTime(),l="",d="";return"smart"==o?t.start<e.start?l=f("listTexts","until")+" "+C(s,t.allDay||s.getDate()!=e.start.getDate()?i:n):c>_t?l=M(t.start,s,i+"{ – "+i+"}"):0==e.daydiff?l=f("listTexts","today"):1==e.daydiff?l=f("listTexts","tomorrow"):0==e.weekdiff||1==e.weekdiff?l=C(t.start,"dddd"):(e.daydiff>1||e.daydiff<0)&&(l=C(t.start,i)):"day"!=o&&(l=M(t.start,s,i+(c>_t?"{ – "+i+"}":""))),!l&&t.allDay?d=m(s,t.start)?M(t.start,s,r):f("allDayText"):l&&m(s,t.start)||t.allDay||(d=m(s,t.start)?M(t.start,s,a):c?M(t.start,s,n):M(t.start,null,n)),[l,d]}function c(n,a,r){n.unbind("mouseover").mouseover(function(i){for(var o,s,c=i.target,l=c;c!=this;)l=c,c=c.parentNode;(o=l._fci)!==e&&(l._fci=e,s=a.events[o],r(s,n.children().eq(o),a),t(i.target).trigger(i)),i.stopPropagation()})}var l=this;l.renderEvents=a,l.renderEventTime=s,l.compileDaySegs=r,l.clearEvents=n,l.lazySegBind=c,l.sortCmp=i,vt.call(l);var f=l.opt,u=l.trigger,p=l.reportEvents,g=l.reportEventClear,y=l.reportEventElement,w=l.eventElementHandlers,D=(l.showEvents,l.hideEvents,l.getDaySegmentContainer),b=l.calendar,C=b.formatDate,M=b.formatDates}function Ft(e,n){function a(t,e){e&&d(t,f("listPage")*e),l.start=l.visStart=v(t,!0),l.end=d(v(l.start),f("listPage")),l.visEnd=d(v(l.start),f("listRange")),u(l.visEnd,-1),l.title=p(t,l.visEnd,f("titleFormat")),r(),g?h():i()}function r(){m=f("firstDay"),y=f("weekends")?0:1,w=f("theme")?"ui":"fc",D=f("columnFormat","day")}function i(){g=t("<div>").addClass("fc-list-content").appendTo(e)}function o(t,e){g.css("height",t-1+"px").css("overflow","auto")}function s(t){}function c(){}var l=this;l.render=a,l.select=c,l.unselect=c,l.getDaySegmentContainer=function(){return g},ht.call(l,e,n,"list"),xt.call(l);var f=l.opt,h=(l.trigger,l.clearEvents),p=(l.reportEventClear,n.formatDates);n.formatDate;l.setWidth=s,l.setHeight=o;var g,m,y,w,D}function Ht(){function e(e){var n,a,r,o=c("columnFormat",i.name),s=v(e,!1),l=!1;if(1==s.getDate())w().parent().scrollTop(0);else for(;!l;)a=C(s,o),w().find("td.fc-list-header.fc-widget-header").each(function(){if(r=t(this).html(),r==a){l=!0;var e=t(this).position().top,n=w().parent().scrollTop();w().parent().scrollTop(n+e)}}),l||(n=v(s,!1),n.setDate(n.getDate()+1),n.getDate()>s.getDate()?s=v(n,!1):(l=!0,w().parent().scrollTop(w().height())))}function n(){p(),w().children("tbody").remove()}function a(t,n){t.sort(l),h(t),r(u(t),n),w().removeClass("fc-list-smart fc-list-day fc-list-month fc-list-week").addClass("fc-list-"+c("listSections")),e(f())}function r(e,n){var a,r,l,f,u,h,p,C,M,k,S,T,E,x,F,H=c("theme")?"ui":"fc",z=w(),N=H+"-widget-header",W=H+"-widget-content",O=null,R=c("tableCols"),A=t.inArray("time",R)>=0;o=t('<tbody class="fc-list-header"><tr><td class="fc-list-header fc-month-nav fc-month-prev '+N+'" colspan="'+R.length+'">'+c("buttonText","prevMonth")+"</td></tr></tbody>").appendTo(z),o.click(function(){var t=v(i.getOrigDate(),!0);t.setDate(0),b.gotoDate(t),d("prevClick")});for(r in e){if(l=e[r],p=!1,l.title)var O=t('<tbody class="fc-list-header"><tr><td class="fc-list-header '+N+'" colspan="'+R.length+'">'+X(l.title)+"</td></tr></tbody>").appendTo(z);for(T=t("<tbody>").addClass("fc-list-section "+W).appendTo(z),h="",a=0;a<l.events.length;a++){f=l.events[a],u=y(f,l),C=K(f,c),M=C?" style='"+C+"'":"",k=["fc-event-skin","fc-corner-left","fc-corner-right","fc-corner-top","fc-corner-bottom"].concat(f.className),f.source&&f.source.className&&(k=k.concat(f.source.className)),f.source&&f.source.background&&(p=!0),S=["fc-"+Vt[f.start.getDay()],"fc-event","fc-event-row"],c("weekendDays").length>0&&c("weekendDays").indexOf(e[r].start.getDay())!=-1&&S.splice(1,0,"fc-weekend-day"),0==l.daydiff&&(O&&O.addClass("fc-today"),S.push("fc-today"),S.push("fc-state-highlight")),h+="<tr class='"+S.join(" ")+"'>";for(var L,B=0;B<R.length;B++)L=R[B],"handle"==L?h+="<td class='fc-event-handle'"+M+"></td>":"title"==L?h+="<td class='fc-event-title'>"+(f.title?X(f.title.replace(/(\r\n|\n|\r)+/gm," ")):"&nbsp;")+"</td>":"date"==L?h+="<td class='fc-event-date' colspan='"+(u[1]||!A?1:2)+"'>"+X(u[0])+"</td>":"time"==L?u[1]&&(h+="<td class='fc-event-time' style='text-overflow: ellipsis; overflow: hidden;'>"+X(u[1])+"</td>"):h+="<td class='fc-event-"+L+"'>"+(f[L]?X(f[L]):"&nbsp;")+"</td>";
h+="</tr>",document.all&&(t(h).appendTo(T),h="")}for(document.all||(T[0].innerHTML=h),E=T.children(),a=0;a<l.events.length;a++)f=l.events[a],x=t(E[a]),p&&x.addClass("fc-source-bg"),F=d("eventRender",f,f,x),F===!1?x.remove():(F&&F!==!0&&(x.remove(),x=t(F).appendTo(T)),f._id===n?m(f,x,l):x[0]._fci=a,g(f,x)),d("eventAfterRender",f,f,x);D(T,l,m),$(T),T.addClass("fc-day-"+l.start.getDay())}s=t('<tbody class="fc-list-header"><tr><td class="fc-list-header fc-month-nav fc-month-next '+N+'" colspan="'+R.length+'">'+c("buttonText","nextMonth")+"</td></tr></tbody>").appendTo(z),s.click(function(){var t=v(i.getOrigDate(),!0);t.setDate(1),t.setMonth(t.getMonth()+1),b.gotoDate(t),d("nextClick")})}var i=this;xt.call(i);var o,s,c=i.opt,l=i.sortCmp,d=i.trigger,f=i.getOrigDate,u=i.compileDaySegs,h=i.reportEvents,p=i.reportEventClear,g=i.reportEventElement,m=i.eventElementHandlers,y=i.renderEventTime,w=(i.showEvents,i.hideEvents,i.getDaySegmentContainer),D=i.lazySegBind,b=i.calendar,C=b.formatDate;b.formatDates;i.renderEvents=a,i.scrollToDate=e,i.clearEvents=n,i.prevMonthNav=o,i.nextMonthNav=s}function zt(e,n){function a(t,e){B=t,e&&(l(t,e),t.setDate(1)),b.start=v(t,!0),b.start.setDate(1),b.end=l(v(b.start),1),b.visStart=v(b.start),b.visEnd=v(b.end),u(b.visEnd,-1),b.title=S(b.visStart,b.visEnd,C("titleFormat")),r(),x?(k(),C("showDatepicker")&&(A.html(B.getDate()),L.html(S(B,null,C("titleFormat","table"))),W.datepicker("option","firstDay",F),W.datepicker("setDate",B))):i(B)}function r(){F=C("firstDay"),H=C("weekends")?0:1,z=C("theme")?"ui":"fc",N=C("columnFormat")}function i(a){for(var r=C("tableCols"),i="<table class='fc-border-separate' style='width:100%' cellspacing='0'><colgroup>",o=0;o<r.length;o++)i+="<col class='fc-event-"+r[o]+"' />";i+="</colgroup></table>",C("showDatepicker")&&(O=t("<div>").addClass("fc-table-dateinfo").appendTo(e),R=t("<div>").addClass("fc-table-dateinfo-number").appendTo(O),A=t("<div>").appendTo(R),A.html(a.getDate()),L=t("<div>").addClass("fc-table-dateinfo-text").appendTo(O),L.html(S(B,null,C("titleFormat","table"))),W=t("<div>").addClass("fc-table-datepicker").appendTo(e),W.datepicker({firstDay:C("firstDay"),weekendDays:C("weekendDays"),defaultDate:a,showWeek:!0,weekHeader:"",onSelect:function(t,e){var a=new Date(t);n.gotoDate(a),M("datepickerClick",this,a)}})),E=t("<div>").addClass("fc-list-content").appendTo(e),x=t(i).appendTo(E)}function o(){s(),c(),d(),f(),p(),g(),m()}function s(){var e=h(new Date),n=T(e,N);t(x).find(".fc-list-header").each(function(){t(this).removeClass("fc-today"),t(this).next().children().removeClass("fc-state-highlight"),n==t(this).find("td").html()&&(t(this).addClass("fc-today"),t(this).next().children().addClass("fc-state-highlight"))}),W.datepicker("refresh")}function c(){}function d(){}function f(){}function p(){var e=C("weekendDays");t(x).find(".fc-list-section").each(function(){var n=parseInt(this.className.match(/fc-day-(\d)/)[1],10);e.indexOf(n)==-1?t(this).children().removeClass("fc-weekend-day"):t(this).children().addClass("fc-weekend-day")}),C("showDatepicker")&&W.datepicker("option","weekendDays",e)}function g(){}function m(){}function y(t,e){if(C("showDatepicker")){var n=W.height();L.css("padding-bottom",n-W.children().outerHeight()+3);var a=L.outerHeight();R.css({height:n-a,"font-size":145-a}),A.height(145-a)}E.css("height",t-E.position().top-2+"px").css("overflow","auto")}function w(t){var n=Math.floor(e.parent().width()/2)-8;e.css({left:t,width:n})}function D(){}var b=this;b.render=a,b.select=D,b.unselect=D,b.getDaySegmentContainer=function(){return x},b.getOrigDate=function(){return B},b.updateGrid=o,b.updateToday=s,b.setAxisFormat=c,b.setStartOfBusiness=d,b.setEndOfBusiness=f,b.setWeekendDays=p,b.setBindingMode=g,b.setSelectable=m,ht.call(b,e,n,"table"),Ht.call(b);var C=b.opt,M=b.trigger,k=b.clearEvents,S=(b.reportEventClear,n.formatDates),T=n.formatDate;b.setWidth=w,b.setHeight=y;var E,x,F,H,z,N,W,O,R,A,L,B}function Nt(){function n(t){var e,n,a={};for(n=t.length-1;n>-1;n--){e=t[n];var r=e.repeatHash;v(e.end?e.end:e.start);e.completedOn&&e.completedOn<u.start&&(h("showUnstartedEvents")||!e.start||e.completedOn>e.start)||!h("showUnstartedEvents")&&e.start&&e.start>u.visEnd||(r in a||(a[r]={events:[],id:r}),a[r].events.push(e))}return a}function a(e){var n={},a=t.map(e,function(t,e){return e}),r=t.map(e,function(t,e){return t});for(i=a.length-1;i>-1;i--)n[a[i]]=r[i];return n}function r(t,e){var n=t.end?t.end.getTime():1/0,a=e.end?e.end.getTime():1/0,r=t.start?t.start.getTime():1/0,i=e.start?e.start.getTime():1/0,o=parseInt(t.priority,10)||10,s=parseInt(e.priority,10)||10,c={"NEEDS-ACTION":1,"IN-PROCESS":2,COMPLETED:3,CANCELLED:4};return n<a?-1:a<n?1:r<i?-1:i<r?1:o<s?-1:s<o?1:c[t.status]<c[e.status]?-1:c[e.status]<c[t.status]?1:t.percent<e.percent?-1:e.percent<t.percent?1:t.compareString<e.compareString?-1:e.compareString<t.compareString?1:0}function o(t){var e=h("timeFormat","list");return t.end?C(t.end,e):""}function s(n,a,r){n.unbind("mouseover").mouseover(function(i){for(var o,s,c=i.target,l=c;c!=this;)l=c,c=c.parentNode;(o=l._fci)!==e&&(l._fci=e,s=a.events[o],r(s,n.children().eq(0),a),t(i.target).trigger(i)),i.stopPropagation()})}function c(){m(),D().children("tbody").remove()}function l(t,e){t.sort(r),g(t),f(a(n(t)),e),D().removeClass("fc-list-smart fc-list-day fc-list-month fc-list-week").addClass("fc-list-"+h("listSections")),u.applyFilters()}function f(e,n){var a,r,i,c,l,f,g,m,b,C,M,k,S,T=h("theme")?"ui":"fc",E=D(),x=T+"-widget-content",F=h("todoCols");t.inArray("time",F)>=0;for(a in e){if(i=e[a],C=t("<tbody>").addClass("fc-list-section "+x).appendTo(E),l="",c=i.events[0],r=0,h("showUnstartedEvents")&&i.events.length>1){for(;r<i.events.length;r++)if(i.events[r].start<u.end){c=i.events[r];break}if(r==i.events.length)continue}dueTime=o(c),f=K(c,h),g=f?" style='"+f+"'":"",m=["fc-event-skin","fc-corner-left","fc-corner-right","fc-corner-top","fc-corner-bottom"].concat(c.className),c.source&&c.source.className&&(m=m.concat(c.source.className)),b=["fc-event","fc-event-row"],c.end&&c.end.getTime()<v(u.start,!0)?b.push("fc-event-pastdue"):c.end&&c.end.getTime()<d(v(u.start),2,!1).getTime()&&b.push("fc-event-urgent"),c.filterStatus&&b.push("fc-event-"+c.filterStatus),l+="<tr class='"+b.join(" ")+"'>";for(var H,z=0;z<F.length;z++)H=F[z],l+="handle"==H?"<td class='fc-event-handle'"+g+"></td>":"check"==H?'<td class=\'fc-event-check\'><input type="checkbox" class="fc-event-checkbox" data-ind="false"/></td>':"priority"==H?"<td class='fc-event-priority fc-event-priority-"+c.renderPriority+"'>"+(c.renderPriority?"&nbsp;":"")+"</td>":"time"==H?"<td class='fc-event-time'>"+X(dueTime)+"</td>":"title"==H?"<td class='fc-event-title'>"+X(c.title.replace(/(\r\n|\n|\r)+/gm," "))+"</td>":"location"==H?"<td class='fc-event-location'>"+X(c.location.replace(/(\r\n|\n|\r)+/gm," "))+"</td>":"status"==H?"<td class='fc-event-status'></td>":"percent"==H?"<td class='fc-event-percent'>"+c.percent+"%</td>":"<td class='fc-event-"+H+"'>"+(c[H]?X(c[H]):"&nbsp;")+"</td>";l+="</tr>",document.all&&(t(l).appendTo(C),l=""),document.all||(C[0].innerHTML=l),M=C.children(),k=t(M[0]),S=p("eventRender",c,c,k),S===!1?k.remove():(S&&S!==!0&&(k.remove(),k=t(S).appendTo(C)),c._id===n?w(c,k,i):k[0]._fci=r,y(c,k)),p("eventCheckDefault",c,c,k.find(".fc-event-checkbox")),p("eventAfterRender",c,c,k),s(C,i,w),$(C)}}var u=this;u.renderEvents=l,u.clearEvents=c,u.renderEventTime=o,u.compileDaySegs=n,u.lazySegBind=s,u.sortCmp=r,vt.call(u);var h=u.opt,r=u.sortCmp,p=u.trigger,n=u.compileDaySegs,g=u.reportEvents,m=u.reportEventClear,y=u.reportEventElement,w=u.eventElementHandlers,o=u.renderEventTime,D=(u.showEvents,u.hideEvents,u.getDaySegmentContainer),s=u.lazySegBind,b=u.calendar,C=b.formatDate;b.formatDates}function Wt(e,n){function a(t,e){e&&(l(t,e),t.setDate(1)),B=t;var n=v(t,!0),a=d(v(n),1);if(k.title=F(t,S("titleFormat")),k.start=k.visStart=n,k.end=k.visEnd=a,r(),z){if(E(),W.find(".fc-filter-table-footer").text(S("buttonText","filtersFooter").replace("%date%",x(t,null,S("columnFormat","todo")))),S("showDatepicker")){P.html(t.getDate()),Y.html(x(t,null,S("titleFormat","todo")));var o=v(t,!0);o.setHours(12),o.setDate(1),o.setMonth(B.getMonth()-I.length+1),I.forEach(function(e,n){o.setMonth(o.getMonth()+1),e.datepicker("option","firstDay",O),0===n&&I.length<3||n===I.length-2&&I.length>2?e.datepicker("setDate",t):e.datepicker("setDate",o)})}}else i(t),m()}function r(){O=S("firstDay"),R=S("weekends")?0:1,A=S("theme")?"ui":"fc",L=S("columnFormat")}function i(a){for(var r=S("todoCols"),i="<table class='fc-border-separate' style='width:100%' cellspacing='0'><colgroup>",o=0;o<r.length;o++)i+="<col class='fc-event-"+r[o]+"' />";i+="</colgroup></table>",S("showDatepicker")&&(V=t("<div>").addClass("fc-table-dateinfo").appendTo(e),_=t("<div>").addClass("fc-table-dateinfo-number").appendTo(V),P=t("<div>").appendTo(_),P.html(a.getDate()),Y=t("<div>").addClass("fc-table-dateinfo-text").appendTo(V),Y.html(x(a,null,S("titleFormat","todo"))),I=[t("<div>").addClass("fc-table-datepicker fc-table-datepicker-current").appendTo(e)],I[0].datepicker({firstDay:S("firstDay"),weekendDays:S("weekendDays"),defaultDate:a,showWeek:!0,weekHeader:"",onSelect:function(t,e){var a=new Date(t);n.gotoDate(a),T("datepickerClick",this,a)}})),N=t("<div>").addClass("fc-filter").appendTo(e);var s='<table class="fc-filter-table"><tr><td class="fc-filter-table-header" colspan="2">'+S("buttonText","filtersHeader")+"</td></tr>";s+=S("simpleFilters")?'<tr><td class="fc-filter-option fc-filter-action" data-type="filterAction">'+S("buttonText","filterAction")+'</td><td class="fc-filter-option fc-filter-completed fc-filter-option-last" data-type="filterCompleted">'+S("buttonText","filterCompleted")+" *</td></tr>":'<tr><td class="fc-filter-option fc-filter-action" data-type="filterAction">'+S("buttonText","filterAction")+'</td><td class="fc-filter-option fc-filter-progress" data-type="filterProgress">'+S("buttonText","filterProgress")+'</td></tr><tr><td class="fc-filter-option fc-filter-completed" data-type="filterCompleted">'+S("buttonText","filterCompleted")+' *</td><td class="fc-filter-option fc-filter-canceled fc-filter-option-last" data-type="filterCanceled">'+S("buttonText","filterCanceled")+"</td></tr>",s+='<tr><td class="fc-filter-table-footer" colspan="2">'+S("buttonText","filtersFooter").replace("%date%",x(a,null,S("columnFormat","todo")))+"</td></tr></table>",W=t(s).appendTo(N),H=t("<div>").addClass("fc-list-content").appendTo(e),z=t(i).appendTo(H)}function o(){s(),c(),f(),u(),h(),p(),g()}function s(){S("showDatepicker")&&I.forEach(function(t){t.datepicker("refresh")})}function c(){}function f(){}function u(){}function h(){S("showDatepicker")&&I.forEach(function(t){t.datepicker("option","weekendDays",S("weekendDays"))})}function p(){}function g(){}function m(){W.find(".fc-filter-option").each(function(){S("defaultFilters").indexOf(t(this).attr("data-type"))!=-1&&y(t(this)),t(this).click(function(){y(t(this))})})}function y(t){t.hasClass("fc-filter-option-selected")?t.removeClass("fc-filter-option-selected"):t.addClass("fc-filter-option-selected"),w()}function w(){W.find(".fc-filter-option").each(function(){t(this).hasClass("fc-filter-option-selected")?k.getDaySegmentContainer().find(".fc-event-"+t(this).attr("data-type")).removeClass("fc-filter-hide"):k.getDaySegmentContainer().find(".fc-event-"+t(this).attr("data-type")).addClass("fc-filter-hide")}),S("todoOptionalCols").forEach(function(e){var n=t(".fc-event-"+e.col+":visible").filter(function(){return""!==this.innerHTML});t("col.fc-event-"+e.col).toggleClass("fc-hidden-empty",!n.length)}),k.selectEvent()}function D(t,e){if(S("showDatepicker")){var n=I[0].height();Y.css("padding-bottom",n-I[0].children().outerHeight()+3);var a=Y.outerHeight();_.css({height:n-a,"font-size":145-a}),P.height(145-a)}H.css({height:t-H.position().top-2,overflow:"auto"})}function b(a){e.width(a);var r=Math.floor((a-V.outerWidth()-1)/I[0].outerWidth());if(r>I.length){var i=v(B,!0);i.setHours(12),i.setDate(1),i.setMonth(B.getMonth()+1),1==I.length&&I.push(t("<div>").addClass("fc-table-datepicker fc-table-datepicker-no-default").prependTo(e).datepicker({firstDay:S("firstDay"),weekendDays:S("weekendDays"),defaultDate:v(i),showWeek:!0,weekHeader:"",hideIfNoPrevNext:!0,onSelect:function(t,e){var a=new Date(t);n.gotoDate(a),T("datepickerClick",this,a)}})),i.setMonth(i.getMonth()-I.length+1);for(var o=I.length;o<r;o++)i.setMonth(i.getMonth()-1),I.unshift(t("<div>").addClass("fc-table-datepicker fc-table-datepicker-no-default").insertBefore(N).datepicker({firstDay:S("firstDay"),weekendDays:S("weekendDays"),defaultDate:v(i),showWeek:!0,weekHeader:"",hideIfNoPrevNext:!0,onSelect:function(t,e){var a=new Date(t);n.gotoDate(a),T("datepickerClick",this,a)}}))}else for(;I.length>r&&I.length>1;)2==I.length?I.pop().remove():I.shift().remove();var s=0;S("todoOptionalCols").forEach(function(e){s+=t("col.fc-event-"+e.col).hasClass("fc-hidden-empty")?e.width:0}),S("todoColThresholds").forEach(function(e){t("col.fc-event-"+e.col).toggleClass("fc-hidden-width",a<e.width-s)})}function C(t){t?k.eventSelectLock++:k.eventSelectLock--}function M(){}var k=this;k.render=a,k.select=M,k.unselect=M,k.getDaySegmentContainer=function(){return z},k.applyFilters=w,k.allowSelectEvent=C,k.eventSelectLock=0,k.updateGrid=o,k.updateToday=s,k.setAxisFormat=c,k.setStartOfBusiness=f,k.setEndOfBusiness=u,k.setWeekendDays=h,k.setBindingMode=p,k.setSelectable=g,ht.call(k,e,n,"todo"),Nt.call(k);var S=k.opt,T=k.trigger,E=k.clearEvents,x=(k.reportEventClear,n.formatDates),F=n.formatDate;k.setWidth=b,k.setHeight=D;var H,z,N,W,O,R,A,L,B,I,V,_,P,Y}var Ot={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,currentTimeIndicator:!1,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",multiWeek:"MMM d[ yyyy]{ '–'[ MMM] d yyyy}",week:"MMM d[ yyyy]{ '–'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy",list:"MMM d, yyyy",table:"MMM d[ yyyy]{ '–'[ MMM] d yyyy}",todo:"MMM d[ yyyy]{ '–'[ MMM] d yyyy}"},columnFormat:{month:"ddd",multiWeek:"ddd",week:"ddd M/d",day:"dddd M/d",list:"dddd, MMM d, yyyy",table:"MMM d, yyyy",todo:"MMM d, yyyy"},timeFormat:{"":"h(:mm)t",agenda:"h:mm{ – h:mm}",list:"hh:mm{ – hh:mm}",listFull:"hh:mm M d yyyy{ – hh:mm M d yyyy}",listFullAllDay:"M d yyyy{ – M d yyyy}"},isRTL:!1,firstDay:0,weekendDays:[0,6],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;❮&nbsp;",next:"&nbsp;❯&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",multiWeek:"mweek",week:"week",day:"day",list:"list",table:"table",todo:"todo",prevMonth:"Load previous month",nextMonth:"Load next month",filtersHeader:"Filters",filtersFooter:"* completed at or after %date%",filterAction:"Needs action",filterProgress:"In progress",filterCompleted:"Completed",filterCanceled:"Canceled"},listTexts:{until:"until",past:"Past events",today:"Today",tomorrow:"Tomorrow",thisWeek:"This week",nextWeek:"Next week",thisMonth:"This month",nextMonth:"Next month",future:"Future events",week:"W"},listSections:"smart",listRange:30,listPage:7,tableCols:["handle","date","time","title"],todoCols:["handle","check","priority","time","title","location","status","percent"],todoColThresholds:[],todoOptionalCols:[],defaultFilters:[],theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",headerContainer:!1,bindingMode:"single",dayEventSizeStrict:!1,startOfBusiness:0,endOfBusiness:0,showWeekNumbers:!0,multiWeekSize:3,showDatepicker:!1,eventMode:!0,showUnstartedEvents:!1,simpleFilters:!1},Rt={header:{left:"next,prev today",center:"",right:"title"},headerContainer:"",buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},At=t.fullCalendar={version:"1.5.4"},Lt=At.views={};t.fn.fullCalendar=function(n){if("string"==typeof n){var r,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=t.data(this,"fullCalendar");if(a&&t.isFunction(a[n])){var o=a[n].apply(a,i);r===e&&(r=o),"destroy"==n&&t.removeData(this,"fullCalendar")}}),r!==e?r:this}var o=n.eventSources||[];return delete n.eventSources,n.events&&(o.push(n.events),delete n.events),n=t.extend(!0,{},Ot,n.isRTL||n.isRTL===e&&Ot.isRTL?Rt:{},n),this.each(function(e,r){var i=t(r),s=new a(i,n,o);i.data("fullCalendar",s),s.render()}),this},At.sourceNormalizers=[],At.sourceFetchers=[];var Bt={dataType:"json",cache:!1},It=1;At.addDays=d,At.cloneDate=v,At.parseDate=D,At.parseISO8601=b,At.parseTime=C,At.formatDate=M,At.formatDates=k;var Vt=["sun","mon","tue","wed","thu","fri","sat"],_t=864e5,Pt=36e5,Yt=6e4,jt={s:function(t){return t.getSeconds()},ss:function(t){return J(t.getSeconds())},m:function(t){return t.getMinutes()},mm:function(t){return J(t.getMinutes())},h:function(t){return t.getHours()%12||12},hh:function(t){return J(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return J(t.getHours())},d:function(t){return t.getDate()},dd:function(t){return J(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},W:function(t){return Et(t)},M:function(t){return t.getMonth()+1},MM:function(t){return J(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return(t.getFullYear()+"").substring(2)},yyyy:function(t){return t.getFullYear()},t:function(t){return t.getHours()<12?"a":"p"},tt:function(t){return t.getHours()<12?"am":"pm"},T:function(t){return t.getHours()<12?"A":"P"},TT:function(t){return t.getHours()<12?"AM":"PM"},u:function(t){return M(t,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(t){var e=t.getDate();return e>10&&e<20?"th":["st","nd","rd"][e%10-1]||"th"}};At.applyAll=tt,Lt.month=nt,Lt.multiWeek=at,Lt.basicWeek=rt,Lt.basicDay=it,n({weekMode:"fixed"}),Lt.agendaWeek=ct,Lt.agendaDay=lt,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ – h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24}),Lt.list=Ft,Lt.table=zt,Lt.todo=Wt})(jQuery);